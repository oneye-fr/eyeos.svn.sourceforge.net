(function(){var g=tinymce.DOM,h=tinymce.dom.Event,k=tinymce.each,o=tinymce.explode;tinymce.create("tinymce.plugins.TabFocusPlugin",{init:function(e){function l(c,f){if(f.keyCode===9)return h.cancel(f)}function m(c,f){function n(p){i=g.getParent(c.id,"form");a=i.elements;if(i){k(a,function(q,r){if(q.id==c.id){j=r;return false}});if(p>0)for(b=j+1;b<a.length;b++){if(a[b].type!="hidden")return a[b]}else for(b=j-1;b>=0;b--)if(a[b].type!="hidden")return a[b]}return null}var j,b,i,a,d;if(f.keyCode===9){d=
o(c.getParam("tab_focus",c.getParam("tabfocus_elements",":prev,:next")));if(d.length==1){d[1]=d[0];d[0]=":prev"}if(a=f.shiftKey?d[0]==":prev"?n(-1):g.get(d[0]):d[1]==":next"?n(1):g.get(d[1])){(c=tinymce.EditorManager.get(a.id||a.name))?c.focus():window.setTimeout(function(){window.focus();a.focus()},10);return h.cancel(f)}}}e.onKeyUp.add(l);if(tinymce.isGecko){e.onKeyPress.add(m);e.onKeyDown.add(l)}else e.onKeyDown.add(m);e.onInit.add(function(){k(g.select("a:first,a:last",e.getContainer()),function(c){h.add(c,
"focus",function(){e.focus()})})})},getInfo:function(){return{longname:"Tabfocus",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/tabfocus",version:tinymce.majorVersion+"."+tinymce.minorVersion}}});tinymce.PluginManager.add("tabfocus",tinymce.plugins.TabFocusPlugin)})();
