var Validator={isEmail:function(a){return this.test(a,"^[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+@[-!#$%&'*+\\/0-9=?A-Z^_`a-z{|}~]+.[-!#$%&'*+\\./0-9=?A-Z^_`a-z{|}~]+$")},isAbsUrl:function(a){return this.test(a,"^(news|telnet|nttp|file|http|ftp|https)://[-A-Za-z0-9\\.]+\\/?.*$")},isSize:function(a){return this.test(a,"^[0-9]+(%|in|cm|mm|em|ex|pt|pc|px)?$")},isId:function(a){return this.test(a,"^[A-Za-z_]([A-Za-z0-9_])*$")},isEmpty:function(a){var b,d;if(a.nodeName=="SELECT"&&a.selectedIndex<1)return true;
if(a.type=="checkbox"&&!a.checked)return true;if(a.type=="radio"){d=0;for(b=a.form.elements;d<b.length;d++)if(b[d].type=="radio"&&b[d].name==a.name&&b[d].checked)return false;return true}return/^\s*$/.test(a.nodeType==1?a.value:a)},isNumber:function(a,b){return!isNaN(a.nodeType==1?a.value:a)&&(!b||!this.test(a,"^-?[0-9]*\\.[0-9]*$"))},test:function(a,b){a=a.nodeType==1?a.value:a;return a==""||(new RegExp(b)).test(a)}},AutoValidator={settings:{id_cls:"id",int_cls:"int",url_cls:"url",number_cls:"number",
email_cls:"email",size_cls:"size",required_cls:"required",invalid_cls:"invalid",min_cls:"min",max_cls:"max"},init:function(a){var b;for(b in a)this.settings[b]=a[b]},validate:function(a){var b,d,c=this.settings,e=0;d=this.tags(a,"label");for(b=0;b<d.length;b++)this.removeClass(d[b],c.invalid_cls);e+=this.validateElms(a,"input");e+=this.validateElms(a,"select");e+=this.validateElms(a,"textarea");return e==3},invalidate:function(a){this.mark(a.form,a)},reset:function(a){var b=["label","input","select",
"textarea"],d,c,e,f=this.settings;if(a!=null)for(d=0;d<b.length;d++){e=this.tags(a.form?a.form:a,b[d]);for(c=0;c<e.length;c++)this.removeClass(e[c],f.invalid_cls)}},validateElms:function(a,b){var d,c,e=this.settings,f=true,g=Validator,h;b=this.tags(a,b);for(d=0;d<b.length;d++){c=b[d];this.removeClass(c,e.invalid_cls);if(this.hasClass(c,e.required_cls)&&g.isEmpty(c))f=this.mark(a,c);if(this.hasClass(c,e.number_cls)&&!g.isNumber(c))f=this.mark(a,c);if(this.hasClass(c,e.int_cls)&&!g.isNumber(c,true))f=
this.mark(a,c);if(this.hasClass(c,e.url_cls)&&!g.isAbsUrl(c))f=this.mark(a,c);if(this.hasClass(c,e.email_cls)&&!g.isEmail(c))f=this.mark(a,c);if(this.hasClass(c,e.size_cls)&&!g.isSize(c))f=this.mark(a,c);if(this.hasClass(c,e.id_cls)&&!g.isId(c))f=this.mark(a,c);if(this.hasClass(c,e.min_cls,true)){h=this.getNum(c,e.min_cls);if(isNaN(h)||parseInt(c.value)<parseInt(h))f=this.mark(a,c)}if(this.hasClass(c,e.max_cls,true)){h=this.getNum(c,e.max_cls);if(isNaN(h)||parseInt(c.value)>parseInt(h))f=this.mark(a,
c)}}return f},hasClass:function(a,b,d){return(new RegExp("\\b"+b+(d?"[0-9]+":"")+"\\b","g")).test(a.className)},getNum:function(a,b){b=a.className.match(new RegExp("\\b"+b+"([0-9]+)\\b","g"))[0];return b=b.replace(/[^0-9]/g,"")},addClass:function(a,b,d){var c=this.removeClass(a,b);a.className=d?b+(c!=""?" "+c:""):(c!=""?c+" ":"")+b},removeClass:function(a,b){b=a.className.replace(new RegExp("(^|\\s+)"+b+"(\\s+|$)")," ");return a.className=b!=" "?b:""},tags:function(a,b){return a.getElementsByTagName(b)},
mark:function(a,b){var d=this.settings;this.addClass(b,d.invalid_cls);this.markLabels(a,b,d.invalid_cls);return false},markLabels:function(a,b,d){var c;a=this.tags(a,"label");for(c=0;c<a.length;c++)if(a[c].getAttribute("for")==b.id||a[c].htmlFor==b.id)this.addClass(a[c],d);return null}};
