CodePress=function(b){obj=document.getElementById(b);var a=document.createElement("iframe");a.textarea=obj;a.textarea.disabled=true;a.textarea.style.overflow="hidden";a.style.height=a.textarea.clientHeight+"px";a.style.width=a.textarea.clientWidth+"px";a.textarea.style.overflow="auto";a.style.border="0";a.frameBorder=0;a.style.visibility="hidden";a.style.position="absolute";a.options=a.textarea.className;a.setAttribute("id",obj.id+"_iframe");a.initialize=function(){a.editor=a.contentWindow.CodePress;
a.editor.body=a.contentWindow.document.getElementsByTagName("body")[0];a.editor.setCode(a.textarea.value);a.setOptions();a.editor.syntaxHighlight("init");a.textarea.style.display="none";a.style.position="static";a.style.visibility="visible";a.style.display="inline"};a.edit=function(c,d){if(c)a.textarea.value=document.getElementById(c)?document.getElementById(c).value:c;if(a.textarea.disabled){a.language=d?d:a.getLanguage();a.src=CodePress.path+"codepress.html&language="+a.language+"&ts="+(new Date).getTime();
a.attachEvent?a.attachEvent("onload",a.initialize):a.addEventListener("load",a.initialize,false)}};a.getLanguage=function(){for(language in CodePress.languages)if(a.options.match("\\b"+language+"\\b"))return CodePress.languages[language]?language:"generic"};a.setOptions=function(){a.options.match("autocomplete-off")&&a.toggleAutoComplete();a.options.match("readonly-on")&&a.toggleReadOnly();a.options.match("linenumbers-off")&&a.toggleLineNumbers()};a.getCode=function(){return a.textarea.disabled?a.editor.getCode():
a.textarea.value};a.setCode=function(c){a.textarea.disabled?a.editor.setCode(c):(a.textarea.value=c)};a.toggleAutoComplete=function(){a.editor.autocomplete=a.editor.autocomplete?false:true};a.toggleReadOnly=function(){a.textarea.readOnly=a.textarea.readOnly?false:true;if(a.style.display!="none")a.editor.readOnly(a.textarea.readOnly?true:false)};a.toggleLineNumbers=function(){var c=a.editor.body.className;a.editor.body.className=c==""||c=="show-line-numbers"?"hide-line-numbers":"show-line-numbers"};
a.toggleEditor=function(){if(a.textarea.disabled){a.textarea.value=a.getCode();a.textarea.disabled=false;a.style.display="none";a.textarea.style.display="inline"}else{a.textarea.disabled=true;a.setCode(a.textarea.value);a.editor.syntaxHighlight("init");a.style.display="inline";a.textarea.style.display="none"}};a.edit();return a};
CodePress.languages={csharp:"C#",css:"CSS",generic:"Generic",html:"HTML",java:"Java",javascript:"JavaScript",perl:"Perl",ruby:"Ruby",php:"PHP",text:"Text",sql:"SQL",vbscript:"VBScript",c:"c",eyecode:"eyecode"};
CodePress.run=function(){s=document.getElementsByTagName("script");for(var b=0,a=s.length;b<a;b++)if(s[b].src.match("codepress.js"))CodePress.path=s[b].src.replace("codepress.js","");t=document.getElementsByTagName("textarea");b=0;for(a=t.length;b<a;b++)if(t[b].className.match("codepress")){id=t[b].id;t[b].id=id+"_cp";eval(id+" = new CodePress(t[i])");t[b].parentNode.insertBefore(eval(id),t[b])}};
window.attachEvent?window.attachEvent("onload",CodePress.run):window.addEventListener("DOMContentLoaded",CodePress.run,false);
