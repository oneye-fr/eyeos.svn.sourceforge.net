var SlimeyAction=function(a,b){this.name=a;this.slimey=b};SlimeyAction.prototype.getName=function(){return this.name};SlimeyAction.prototype.perform=function(){};SlimeyAction.prototype.undo=function(){};var SlimeyInsertAction=function(c,b){SlimeyAction.call(this,"insert",c);var a=this.slimey.editor.getContainer().ownerDocument.createElement(b);a.slimey=this.slimey;a.className="slimeyElement";a.style.position="absolute";a.style.left="40%";a.style.top="30%";a.style.lineHeight="1.";a.style.cursor="move";a.style.fontFamily="sans-serif";a.style.fontSize="160%";a.style.margin="0px";a.style.padding="0px";a.style.border="0px";a.style.zIndex=10000;if(a.tagName=="DIV"){a.style.left="5%";a.style.top="15%";a.style.width="90%";a.style.height="10%";a.innerHTML=lang("some text");a.style.textAlign="center";a.resizable=true;a.editable=true}else{if(a.tagName=="IMG"){a.style.width="20%";a.style.height="20%";a.resizable=true;a.title=lang("drag the bottom right corner to resize")}else{if(a.tagName=="UL"){a.innerHTML="<li>"+lang("some text")+"</li>"}else{if(a.tagName=="OL"){a.innerHTML="<li>"+lang("some text")+"</li>"}else{a.innerHTML=lang("some text")}}a.editable=true;a.title=lang("double click to edit content")}}setEventHandler(a,"mousedown",slimeyDrag);setEventHandler(a,"click",slimeyClick);setEventHandler(a,"dblclick",slimeyEdit);setEventHandler(a,"mouseover",slimeyHighlight);setEventHandler(a,"mouseout",slimeyLowshadow);this.element=a};SlimeyInsertAction.prototype=new SlimeyAction();SlimeyInsertAction.prototype.getElement=function(){return this.element};SlimeyInsertAction.prototype.perform=function(){this.slimey.editor.getContainer().appendChild(this.element)};SlimeyInsertAction.prototype.undo=function(){this.slimey.editor.getContainer().removeChild(this.element);var a=this.slimey.editor.getSelected();if(a==this.element){this.slimey.editor.deselect()}};var SlimeyEditContentAction=function(c,b,a){SlimeyAction.call(this,"editContent",c);if(a){this.element=a}else{this.element=this.slimey.editor.getSelected()}this.content=b};SlimeyEditContentAction.prototype=new SlimeyAction();SlimeyEditContentAction.prototype.perform=function(){this.previousContent=this.element.innerHTML;this.element.innerHTML=this.content};SlimeyEditContentAction.prototype.undo=function(){this.element.innerHTML=this.previousContent};var SlimeyEditStyleAction=function(c,b,a){SlimeyAction.call(this,"editStyle",c);this.element=this.slimey.editor.getSelected();this.property=b;this.value=a};SlimeyEditStyleAction.prototype=new SlimeyAction();SlimeyEditStyleAction.prototype.perform=function(){this.previousValue=this.element.style[this.property];this.element.style[this.property]=this.value};SlimeyEditStyleAction.prototype.undo=function(){this.element.style[this.property]=this.previousValue};var SlimeyDeleteAction=function(b){SlimeyAction.call(this,"delete",b);var a=this.slimey.editor.getSelected();this.element=a};SlimeyDeleteAction.prototype=new SlimeyAction();SlimeyDeleteAction.prototype.perform=function(){this.slimey.editor.getContainer().removeChild(this.element);this.slimey.editor.deselect()};SlimeyDeleteAction.prototype.undo=function(){this.slimey.editor.getContainer().appendChild(this.element)};var SlimeyMoveAction=function(d,f,e,c,b){SlimeyAction.call(this,"move",d);var a=this.slimey.editor.getSelected();this.newx=f;this.newy=e;if(c){this.oldx=c}else{this.oldx=a.style.left}if(b){this.oldy=b}else{this.oldy=a.style.top}this.element=a};SlimeyMoveAction.prototype=new SlimeyAction();SlimeyMoveAction.prototype.perform=function(){this.element.style.left=this.newx;this.element.style.top=this.newy};SlimeyMoveAction.prototype.undo=function(){this.element.style.left=this.oldx;this.element.style.top=this.oldy};var SlimeyResizeAction=function(e,a,c,f,b){SlimeyAction.call(this,"resize",e);var d=this.slimey.editor.getSelected();this.neww=a;this.newh=c;if(f){this.oldw=f}else{this.oldw=d.style.width}if(b){this.oldh=b}else{this.oldh=d.style.height}this.element=d};SlimeyResizeAction.prototype=new SlimeyAction();SlimeyResizeAction.prototype.perform=function(){this.element.style.width=this.neww;this.element.style.height=this.newh};SlimeyResizeAction.prototype.undo=function(){this.element.style.width=this.oldw;this.element.style.height=this.oldh};var SlimeySendToBackAction=function(b){SlimeyAction.call(this,"sendToBack",b);var a=this.slimey.editor.getSelected();this.element=a};SlimeySendToBackAction.prototype=new SlimeyAction();SlimeySendToBackAction.prototype.perform=function(){var b=100000000;for(var a=this.slimey.editor.getContainer().firstChild;a;a=a.nextSibling){if(a.nodeType==1){thisZ=parseInt(a.style.zIndex);if(thisZ<b){b=thisZ}}}this.oldZ=this.element.style.zIndex;this.element.style.zIndex=b-1};SlimeySendToBackAction.prototype.undo=function(){this.element.style.zIndex=this.oldZ};var SlimeyBringToFrontAction=function(b){SlimeyAction.call(this,"bringToFront",b);var a=this.slimey.editor.getSelected();this.element=a};SlimeyBringToFrontAction.prototype=new SlimeyAction();SlimeyBringToFrontAction.prototype.perform=function(){var b=0;for(var a=this.slimey.editor.getContainer().firstChild;a;a=a.nextSibling){if(a.nodeType==1){thisZ=parseInt(a.style.zIndex);if(thisZ>b){b=thisZ}}}this.oldZ=this.element.style.zIndex;this.element.style.zIndex=b+1};SlimeyBringToFrontAction.prototype.undo=function(){this.element.style.zIndex=this.oldZ};var SlimeyChangeSlideAction=function(b,a){SlimeyAction.call(this,"changeSlide",b);this.num=a};SlimeyChangeSlideAction.prototype=new SlimeyAction();SlimeyChangeSlideAction.prototype.perform=function(){this.previousSlide=this.slimey.navigation.currentSlide;this.slimey.navigation.getSlide(this.num)};SlimeyChangeSlideAction.prototype.undo=function(){this.slimey.navigation.getSlide(this.previousSlide)};var SlimeyInsertSlideAction=function(b,a){SlimeyAction.call(this,"insertSlide",b);this.num=a};SlimeyInsertSlideAction.prototype=new SlimeyAction();SlimeyInsertSlideAction.prototype.perform=function(){this.slimey.navigation.insertNewSlide(this.num)};SlimeyInsertSlideAction.prototype.undo=function(){this.slimey.navigation.deleteSlide(this.num)};var SlimeyDeleteSlideAction=function(b,a){SlimeyAction.call(this,"deleteSlide",b);this.num=a};SlimeyDeleteSlideAction.prototype=new SlimeyAction();SlimeyDeleteSlideAction.prototype.perform=function(){this.html=this.slimey.editor.getHTML();this.dom=document.createElement("div");this.slimey.editor.getDOM(this.dom);this.slimey.navigation.deleteSlide(this.num)};SlimeyDeleteSlideAction.prototype.undo=function(){this.slimey.navigation.insertNewSlide(this.num,this.html,this.dom)};var SlimeyMoveSlideAction=function(a,c,b){SlimeyAction.call(this,"moveSlide",a);this.from=c;this.to=b};SlimeyMoveSlideAction.prototype=new SlimeyAction();SlimeyMoveSlideAction.prototype.perform=function(){this.slimey.navigation.moveSlide(this.from,this.to)};SlimeyMoveSlideAction.prototype.undo=function(){this.slimey.navigation.moveSlide(this.to,this.from)};