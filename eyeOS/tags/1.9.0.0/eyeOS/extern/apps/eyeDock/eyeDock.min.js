var DockMenu={Selected:{className:0,id:0},DateTime:{Formats:new Array(),MonthNames:'January""February""March""April""May""June""July""August""September""October""November""December',MonthNamesFull:getArrayArg(' ""January""February""March""April""May""June""July""August""September""October""November""December'),MamesShort:getArrayArg(' ""Jan""Feb""Mar""Apr""May""Jun""Jul""Aug""Sep""Oct""Nov""Dec'),WeekDays0:'S""M""T""W""T""F""S',WeekDays1:'M""T""W""T""F""S""S',WeekDaysFull:getArrayArg('Sunday""Monday""Tuesday""Wednesday""Thursday""Friday""Saturday'),WeekDaysShort:getArrayArg('Sun""Mon""Tue""Wed""Thu""Fri""Sat'),Create:function(c,b,d,a,h,f,e){DockMenu.DateTime.Formats[b+"_eyeDock_"+d+"_"+a+"_"+h]=f;DockMenu.DateTime.Update(b,d,a,h);var g=new Array();g.backgroundNames="#519eda";g.clickedBorder="#558fc7";g.clickedWeek="#c7dff6";g.dayName="#ffffff";g.drawHighlight=1;g.drawOnClick=1;g.drawServerDate="";g.forceDate="";g.height=148;g.monthNames=DockMenu.DateTime.MonthNames;g.myPid=b;g.nextMonthDays="#aaaaaa";g.preMonthDays="#aaaaaa";g.rowsAndDate="#519eda";g.selectFunc="";g.startMonday=e;g.todayBackground="#ffffff";g.todayBorder="#ffffff";g.todayFontColor="#000000";g.toWeekBackground="#bbbbbb";g.visible=1;if(e==1){g.weekDays=DockMenu.DateTime.WeekDays1}else{g.weekDays=DockMenu.DateTime.WeekDays0}g.weekEnd="#519eda";g.width=168;g.workDays="#444444";Calendar_show(g,b+"_eyeDock_"+d+"_"+a+"_"+h+"_calendar",b+"_eyeDock_"+d+"_"+a+"_"+h+"_entries",5,5,0,0,c,0);setWidgetPos(b+"_eyeDock_"+d+"_"+a+"_"+h+"_calendar",b+"_eyeDock_"+d+"_"+a+"_"+h+"_entries",0,0,5,5,1)},Update:function(h,l,g,a){var j=document.getElementById(h+"_eyeDock_"+l+"_"+g+"_"+a+"_div");if(j){var c=new Date();var m=c.getFullYear();var k=c.getMonth()+1;var n=c.getDate();var i=c.getDay();var f=c.getHours();var d=c.getMinutes();var b=c.getSeconds();var o=DockMenu.DateTime.Formats[h+"_eyeDock_"+l+"_"+g+"_"+a];o=o.replace(/\%G/,f);o=o.replace(/\%D/,DockMenu.DateTime.WeekDaysShort[i]);o=o.replace(/\%F/,DockMenu.DateTime.MonthNamesFull[k]);o=o.replace(/\%j/,n);o=o.replace(/\%l/,DockMenu.DateTime.WeekDaysFull[i]);o=o.replace(/\%M/,DockMenu.DateTime.MonthNamesShort[k]);o=o.replace(/\%n/,k);o=o.replace(/\%Y/,m);o=o.replace(/\%y/,m.toString().substr(2));if(f<12){o=o.replace(/\%a/,"am");o=o.replace(/\%A/,"AM");o=o.replace(/\%g/,f)}else{o=o.replace(/\%a/,"pm");o=o.replace(/\%A/,"PM");o=o.replace(/\%g/,f-12)}if(n.toString().substr(n.length-1)=="1"){o=o.replace(/\%S/,"st")}else{if(n.toString().substr(n.length-1)=="2"){o=o.replace(/\%S/,"nd")}else{if(n.toString().substr(n.length-1)=="3"){o=o.replace(/\%S/,"rd")}else{o=o.replace(/\%S/,"th")}}}if(k<10){k="0"+k}if(n<10){n="0"+n}if(f<10){f="0"+f}if(d<10){d="0"+d}if(b<10){b="0"+b}o=o.replace(/\%d/,n);o=o.replace(/\%H/,f);o=o.replace(/\%i/,d);o=o.replace(/\%m/,k);o=o.replace(/\%s/,b);if(f>12){f-=12;if(f<10){f="0"+f}}o=o.replace(/\%h/,f);j.innerHTML=tinyMCE.entityDecode(o);setTimeout('DockMenu.DateTime.Update("'+h+'","'+l+'","'+g+'","'+a+'");',1000)}else{DockMenu.DateTime.Formats[h+"_eyeDock_"+l+"_"+g+"_"+a]=0}}},Hide:function(b,c,a,h){var g=document.getElementById(b+"_eyeDock_"+c+"_"+a+"_"+h+"_entries");if(g){g.style.display="none"}var d=document.getElementById(b+"_eyeDock_"+c+"_"+a+"_"+h);if(d){d.className="eyeDock_"+c+"_"+a+"_menu"}if(DockMenu.Selected.id==b+"_eyeDock_"+c+"_"+a+"_"+h){DockMenu.Selected.id=0}},OnClick:function(b,a){b=new xEvent(b);if(typeof(a)=="undefined"){if(b.target.parentNode.className!="eyeContextMenuEntry"&&b.target.className!="eyeContextMenuEntry"&&b.target.className!="eyeContextMenu"){return true}}else{if(a&&b.target.parentNode.className!="eyeContextMenuEntry"&&b.target.className!="eyeContextMenuEntry"&&b.target.className!="eyeContextMenu"){return a}}return false},OnClickDateTime:function(a,b){a=new xEvent(a);if(a.target.id===b||a.target.id===b+"_div"||a.target.id===b+"_img"){return DockMenu.OnClick(a)}return false},Show:function(c,d,b,e){if(DockMenu.Selected.id){document.getElementById(DockMenu.Selected.id+"_entries").style.display="none";document.getElementById(DockMenu.Selected.id).className=DockMenu.Selected.className}DockMenu.Selected.className="eyeDock_"+d+"_"+b+"_menu";DockMenu.Selected.id=c+"_eyeDock_"+d+"_"+b+"_"+e;document.getElementById(DockMenu.Selected.id).className="eyeDock_"+d+"_"+b+"_menu_selected";var a=document.getElementById(DockMenu.Selected.id+"_entries");a.style.display="block";if(!a.handled){a.handled=1;EventHandler.Add("click",c+"_eyeDock_"+d+"_"+b+"_"+e,'DockMenu.Hide("'+c+'","'+d+'","'+b+'","'+e+'");',1,DockMenu.OnClick)}},Shuffle:function(b,c,a,d){if(document.getElementById(b+"_eyeDock_"+c+"_"+a+"_"+d+"_entries").style.display=="block"){DockMenu.Hide(b,c,a,d)}else{DockMenu.Show(b,c,a,d)}}};var Taskbars={Bottom:0,Entries:new Array(),List:new Array(),PID:"",Top:0,Add:function(b,d,a,e){Taskbars.PID=b;var c=b+"_eyeDock_"+d+"_"+a+"_"+e;if(d=="bottom"){Taskbars.Bottom++}else{if(d=="bottom"){Taskbars.Top++}}Taskbars.List[c]=new Array();Taskbars.List[c]["type"]=d;Taskbars.List[c]["place"]=a;Taskbars.List[c]["id"]=e;document.getElementById(c+"_move_left").onclick=function(){Taskbars.MoveLeft(c)};document.getElementById(c+"_move_right").onclick=function(){Taskbars.MoveRight(c)};for(var e in Taskbars.Entries){if(Taskbars.Entries[e]){document.getElementById(c+"_entries").innerHTML+='<div class="eyeDock_'+d+"_"+a+'_taskbar_entry" id="'+c+"_"+e+'_entry"><div class="eyeDock_'+d+"_"+a+'_taskbar_entry_div" id="'+c+"_"+e+'_entry_div" onclick="'+Taskbars.Entries[e]["onclick"]+'">'+tinyMCE.entityDecode(Taskbars.Entries[e]["title"])+"</div></div>"}}},AddEntry:function(f,e,b){Taskbars.Entries[f]=new Array();Taskbars.Entries[f]["title"]=e;Taskbars.Entries[f]["onclick"]=b;for(var c in Taskbars.List){if(Taskbars.List[c]){var d=Taskbars.List[c]["type"];var a=Taskbars.List[c]["place"];document.getElementById(c+"_entries").innerHTML+='<div class="eyeDock_'+d+"_"+a+'_taskbar_entry_focus" id="'+c+"_"+f+'_entry"><div class="eyeDock_'+d+"_"+a+'_taskbar_entry_div" id="'+c+"_"+f+'_entry_div" onclick="'+b+'">'+tinyMCE.entityDecode(e)+"</div></div>"}}Taskbars.SetWidth()},FocusEntry:function(c){if(Taskbars.Entries[c]){for(var a in Taskbars.List){if(Taskbars.List[a]){var b=document.getElementById(a+"_"+c+"_entry");if(b.className.length<6||b.className.substr(b.className.length-6)!="_focus"){b.className+="_focus"}}}}},MoveLeft:function(a){if(Taskbars.List[a]){var c=xLeft(a+"_entries")+100;var b=xWidth(a)-xWidth(a+"_entries");if(c>0){c=0}else{if(c<b){c=b}}xSlideTo(a+"_entries",c,0,1000)}},MoveRight:function(a){if(Taskbars.List[a]){var c=xLeft(a+"_entries")-100;var b=xWidth(a)-xWidth(a+"_entries");if(c<b){c=b}else{if(c>0){c=0}}xSlideTo(a+"_entries",c,0,1000)}},Remove:function(b){if(Taskbars.List[b]){var a=document.getElementById(b);a.parentNode.removeChild(a);Taskbars.List[b]=0}},RemoveEntry:function(c){if(Taskbars.Entries[c]){Taskbars.Entries[c]=0;for(var a in Taskbars.List){if(Taskbars.List[a]){var b=document.getElementById(a+"_"+c+"_entry");b.parentNode.removeChild(b)}}Taskbars.SetWidth()}},RenameEntry:function(c,b){if(Taskbars.Entries[c]){Taskbars.Entries[c]["title"]=b;for(var a in Taskbars.List){if(Taskbars.List[a]){document.getElementById(a+"_"+c+"_entry_div").innerHTML=tinyMCE.entityDecode(b)}}}},SetWidth:function(i){if(Taskbars.Bottom&&(i=="bottom"||typeof(i)=="undefined")){var a=0;var g=document.getElementById(Taskbars.PID+"_eyeDock_bottom");var f=g.childNodes;for(var h=0;h<f.length;h++){if(!Taskbars.List[f[h].id]&&f[h].className!="eyeDock_bottom_left_taskbar_move_left"&&f[h].className!="eyeDock_bottom_right_taskbar_move_left"&&f[h].className!="eyeDock_bottom_left_taskbar_move_right"&&f[h].className!="eyeDock_bottom_right_taskbar_move_right"){a+=xWidth(f[h])}}}if(Taskbars.Top&&(i=="top"||typeof(i)=="undefined")){var j=0;var l=document.getElementById(Taskbars.PID+"_eyeDock_top");var m=l.childNodes;for(var n=0;n<m.length;n++){if(!Taskbars.List[m[n].id]&&m[n].className!="eyeDock_top_left_taskbar_move_left"&&m[n].className!="eyeDock_top_right_taskbar_move_left"&&m[n].className!="eyeDock_top_left_taskbar_move_right"&&m[n].className!="eyeDock_top_right_taskbar_move_right"){j+=xWidth(m[n])}}}for(var k in Taskbars.List){var d=document.getElementById(k);if(!d){Taskbars.List[k]=0}else{if(Taskbars.List[k]){var b=0;if(Taskbars.List[k]["type"]=="bottom"){b=(xWidth(g)-a)/Taskbars.Bottom}else{if(Taskbars.List[k]["type"]=="top"){b=(xWidth(l)-j)/Taskbars.Top}}if(d&&b>0){var c=xWidth(k+"_entries");if(c>b){document.getElementById(k+"_move_left").style.display="inline-block";document.getElementById(k+"_move_right").style.display="inline-block";b-=xWidth(k+"_move_left")+xWidth(k+"_move_right");if(xLeft(k+"_entries")<b-c){xSlideTo(k+"_entries",b-c,0,1000)}}else{document.getElementById(k+"_move_left").style.display="none";document.getElementById(k+"_move_right").style.display="none";if(xLeft(k+"_entries")){xSlideTo(k+"_entries",0,0,1000)}}d.style.width=b+"px"}}}}},UnfocusEntry:function(c){if(Taskbars.Entries[c]){for(var a in Taskbars.List){if(Taskbars.List[a]){var b=document.getElementById(a+"_"+c+"_entry");if(b.className.length>6&&b.className.substr(b.className.length-6)=="_focus"){b.className=b.className.substr(0,b.className.length-6)}}}}}};xAddEventListener(window,"resize",Taskbars.SetWidth,false);