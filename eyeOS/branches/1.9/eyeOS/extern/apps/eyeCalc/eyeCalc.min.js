var eyeCalc_$myPid={Action:0,ClearOnNext:0,Memory:"null",OnClickAddNumer:function(){eyeCalc_$myPid.AddNumber(this.id.substr(this.id.length-1))},Init:function(){document.getElementById("$myPid_eyeCalc_Button_1").onclick=function(){eyeCalc_$myPid.AddNumber("1")},document.getElementById("$myPid_eyeCalc_Button_2").onclick=function(){eyeCalc_$myPid.AddNumber("2")},document.getElementById("$myPid_eyeCalc_Button_3").onclick=function(){eyeCalc_$myPid.AddNumber("3")},document.getElementById("$myPid_eyeCalc_Button_4").onclick=function(){eyeCalc_$myPid.AddNumber("4")},document.getElementById("$myPid_eyeCalc_Button_5").onclick=function(){eyeCalc_$myPid.AddNumber("5")},document.getElementById("$myPid_eyeCalc_Button_6").onclick=function(){eyeCalc_$myPid.AddNumber("6")},document.getElementById("$myPid_eyeCalc_Button_7").onclick=function(){eyeCalc_$myPid.AddNumber("7")},document.getElementById("$myPid_eyeCalc_Button_8").onclick=function(){eyeCalc_$myPid.AddNumber("8")},document.getElementById("$myPid_eyeCalc_Button_9").onclick=function(){eyeCalc_$myPid.AddNumber("9")},document.getElementById("$myPid_eyeCalc_Button_c").onclick=function(){eyeCalc_$myPid.C()},document.getElementById("$myPid_eyeCalc_Button_ce").onclick=function(){eyeCalc_$myPid.CE()},document.getElementById("$myPid_eyeCalc_Button_delete").onclick=function(){eyeCalc_$myPid.Delete()},document.getElementById("$myPid_eyeCalc_Button_divide").onclick=function(){eyeCalc_$myPid.DoAction("/")},document.getElementById("$myPid_eyeCalc_Button_dot").onclick=function(){eyeCalc_$myPid.Dot()},document.getElementById("$myPid_eyeCalc_Button_equal").onclick=function(){eyeCalc_$myPid.Equal()},document.getElementById("$myPid_eyeCalc_Button_minus").onclick=function(){eyeCalc_$myPid.DoAction("-")},document.getElementById("$myPid_eyeCalc_Button_multiply").onclick=function(){eyeCalc_$myPid.DoAction("*")},document.getElementById("$myPid_eyeCalc_Button_null").onclick=function(){eyeCalc_$myPid.AddNumber("0")},document.getElementById("$myPid_eyeCalc_Button_onedivx").onclick=function(){eyeCalc_$myPid.OneDivX()},document.getElementById("$myPid_eyeCalc_Button_percentage").onclick=function(){eyeCalc_$myPid.Percentage()},document.getElementById("$myPid_eyeCalc_Button_plus").onclick=function(){eyeCalc_$myPid.DoAction("+")},document.getElementById("$myPid_eyeCalc_Button_sign").onclick=function(){eyeCalc_$myPid.Sign()},document.getElementById("$myPid_eyeCalc_Button_sqrt").onclick=function(){eyeCalc_$myPid.Sqrt()},document.getElementById("$myPid_eyeCalc_Button_Advanced")&&(document.getElementById("$myPid_eyeCalc_Button_cos").onclick=function(){eyeCalc_$myPid.Cos()},document.getElementById("$myPid_eyeCalc_Button_exp").onclick=function(){eyeCalc_$myPid.Exp()},document.getElementById("$myPid_eyeCalc_Button_ln").onclick=function(){eyeCalc_$myPid.LN()},document.getElementById("$myPid_eyeCalc_Button_log").onclick=function(){eyeCalc_$myPid.Log()},document.getElementById("$myPid_eyeCalc_Button_nfactorial").onclick=function(){eyeCalc_$myPid.Factorial()},document.getElementById("$myPid_eyeCalc_Button_pi").onclick=function(){eyeCalc_$myPid.Pi()},document.getElementById("$myPid_eyeCalc_Button_sin").onclick=function(){eyeCalc_$myPid.Sin()},document.getElementById("$myPid_eyeCalc_Button_tan").onclick=function(){eyeCalc_$myPid.Tan()},document.getElementById("$myPid_eyeCalc_Button_xpowthree").onclick=function(){eyeCalc_$myPid.XPowThree()},document.getElementById("$myPid_eyeCalc_Button_xpowtwo").onclick=function(){eyeCalc_$myPid.XPowTwo()},document.getElementById("$myPid_eyeCalc_Button_xpowy").onclick=function(){eyeCalc_$myPid.DoAction("^")});var a=document.getElementById("$myPid_eyeCalc_Textbox");a.onkeydown=function(a){a=new xEvent(a);if(a.keyCode===16||a.keyCode===17||a.keyCode===18||a.keyCode===91||a.keyCode===92)return alert("Due to keyboard layout compatibility problems, special keys (shift, ctrl, alt, windows) are forbidden.\r\nPlease use your mouse to select operation"),!0;if(a.keyCode===48||a.keyCode===96)eyeCalc_$myPid.AddNumber("0");else if(a.keyCode===49||a.keyCode===97)eyeCalc_$myPid.AddNumber("1");else if(a.keyCode===50||a.keyCode===98)eyeCalc_$myPid.AddNumber("2");else if(a.keyCode===51||a.keyCode===99)eyeCalc_$myPid.AddNumber("3");else if(a.keyCode===52||a.keyCode===100)eyeCalc_$myPid.AddNumber("4");else if(a.keyCode===53||a.keyCode===101)eyeCalc_$myPid.AddNumber("5");else if(a.keyCode===54||a.keyCode===102)eyeCalc_$myPid.AddNumber("6");else if(a.keyCode===55||a.keyCode===103)eyeCalc_$myPid.AddNumber("7");else if(a.keyCode===56||a.keyCode===104)eyeCalc_$myPid.AddNumber("8");else if(a.keyCode===57||a.keyCode===105)eyeCalc_$myPid.AddNumber("9");else if(a.keyCode===27)eyeCalc_$myPid.C();else if(a.keyCode===46)eyeCalc_$myPid.CE();else if(a.keyCode===8)eyeCalc_$myPid.Delete();else if(a.keyCode===107)eyeCalc_$myPid.DoAction("+");else if(a.keyCode===109||a.keyCode===189)eyeCalc_$myPid.DoAction("-");else if(a.keyCode===106)eyeCalc_$myPid.DoAction("*");else if(a.keyCode===111||a.keyCode===191)eyeCalc_$myPid.DoAction("/");else if(a.keyCode===220)eyeCalc_$myPid.DoAction("^");else if(a.keyCode===110||a.keyCode===188||a.keyCode===190)eyeCalc_$myPid.Dot();else{if(a.keyCode!==13)return!0;eyeCalc_$myPid.Equal()}return!1},a.readOnly=!0},Actions:{Divide:function(a,b){var c,d,e,f;c=0,f=0,e="+",d=20,a=eyeCalc_$myPid.Actions.Input(a),b=eyeCalc_$myPid.Actions.Input(b),a.substr(0,1)!==b.substr(0,1)&&(e="-"),a=a.substr(1),b=b.substr(1);while(parseFloat(a)>0&&c<=d){c+=1;if(e==="+"||e==="-")c-=1;f=0;while(parseFloat(a)>=parseFloat(eyeCalc_$myPid.Actions.Multiply(f+1,b)))f+=1;a=eyeCalc_$myPid.Actions.Input(eyeCalc_$myPid.Actions.Multiply("10",eyeCalc_$myPid.Actions.Plus(a,"-"+eyeCalc_$myPid.Actions.Multiply(f,b)))),e=e.substr(0,e.length-1)+(f+Number(e.substr(e.length-1)+"0")+"")}return e+"e-"+(c+"")},Input:function(a){var b,c,d,e,f,g;b=0,c="+",d="",e="",f="+",g=1,a=a+"";while(a.length){d=a.substr(0,1),a=a.substr(1);if(d==="-"&&e==="")f==="+"?f="-":f="+";else if(d==="0"&&e!=="")e+="0";else if(d==="1"||d==="2"||d==="3"||d==="4"||d==="5"||d==="6"||d==="7"||d==="8"||d==="9")e+=d,g=0;else if(d==="."&&!b)b=1,e===""&&(e+="0"),e+=".";else if(d==="e"){if(g)return"+0";while(a.length){d=a.substr(0,1),a=a.substr(1);if(d==="-")c==="+"?c="-":c==="-"&&(c="+");else if(d==="0"&&c!=="+"&&c!=="-"||d==="1"||d==="2"||d==="3"||d==="4"||d==="5"||d==="6"||d==="7"||d==="8"||d==="9")c+=d}}}if(g)return"+0";if(c!=="+"&&c!=="-"){e=e.split("."),typeof e[1]=="undefined"&&(e[1]=""),b=1,c=Number(c);if(c<0){c=-c;while(e[0].length<c)e[0]="0"+e[0];e=e[0].substr(0,e[0].length-c)+"."+e[0].substr(e[0].length-c)+e[1]}else if(c>0){while(e[1].length<c)e[1]+="0";e=e[0]+e[1].substr(0,c)+"."+e[1].substr(c)}else e=e[0]+"."+e[1]}while(b&&e.substr(e.length-1)==="0")e=e.substr(0,e.length-1);e.substr(e.length-1)==="."&&(e=e.substr(0,e.length-1));while(e.substr(0,1)==="0")e=e.substr(1);return e.substr(0,1)==="."&&(e="0"+e),f+e},LogGamma:function(a){var b,c;b=1;while(a<8)b*=a,a+=1;return c=1/(a*a),(((((((-3617/122400*c+7/1092)*c-691/360360)*c+5/5940)*c-1/1680)*c+1/1260)*c-1/360)*c+1/12)/a+.5*Math.log(2*Math.PI)-Math.log(b)-a+(a-.5)*Math.log(a)},Multiply:function(a,b){var c,d,e,f,g;c=0,e="",d=0,f="0",g="+",a=eyeCalc_$myPid.Actions.Input(a),b=eyeCalc_$myPid.Actions.Input(b),a.substr(0,1)!==b.substr(0,1)&&(g="-"),a=a.substr(1),b=b.substr(1);if(a.length===1||a==="10"){a=Number(a);while(a)f=eyeCalc_$myPid.Actions.Plus(f,b),a-=1}else while(a.length)e=a.substr(0,1),e==="."?c=1:(c&&(d+=1),f=eyeCalc_$myPid.Actions.Plus(eyeCalc_$myPid.Actions.Multiply("10",f),eyeCalc_$myPid.Actions.Multiply(e,b))),a=a.substr(1);return g+eyeCalc_$myPid.Actions.Input(f).substr(1)+"e-"+(d+"")},Output:function(a){return a=eyeCalc_$myPid.Actions.Input(a),a.substr(0,1)==="+"&&(a=a.substr(1)),parseFloat(a)},Plus:function(a,b){var c,d,e,f,g,h;c="+",d=0,e=0,f="",g="+",h="",a=eyeCalc_$myPid.Actions.Input(a),b=eyeCalc_$myPid.Actions.Input(b),a.substr(0,1)!==b.substr(0,1)?(c="-",a.substr(0,1)==="-"&&(h=a,a=b,b=h),parseFloat(a.substr(1))<parseFloat(b.substr(1))&&(g="-",h=a,a=b,b=h)):a.substr(0,1)==="-"&&(g="-"),a=a.substr(1).split("."),b=b.substr(1).split("."),typeof a[1]=="undefined"&&(a[1]=""),typeof b[1]=="undefined"&&(b[1]="");while(a[0].length-b[0].length<0)a[0]="0"+a[0];while(a[0].length-b[0].length>0)b[0]="0"+b[0];while(a[1].length-b[1].length<0)a[1]+="0";while(a[1].length-b[1].length>0)b[1]+="0";d=a[1].length,a=a[0]+a[1],b=b[0]+b[1];if(c==="+"){while(a.length)e=Number(a.substr(a.length-1))+Number(b.substr(b.length-1))+e,f=(e+"").substr((e+"").length-1)+f,e=Number((e+"").substr(0,(e+"").length-1)),a=a.substr(0,a.length-1),b=b.substr(0,b.length-1);e&&(f=e+""+f)}else while(a.length)e=Number(b.substr(b.length-1))+e,Number(a.substr(a.length-1))<e?(e=Number("1"+a.substr(a.length-1))-e,f=(e+"").substr((e+"").length-1)+f,e=1):(e=Number(a.substr(a.length-1))-e,f=e+""+f,e=0),a=a.substr(0,a.length-1),b=b.substr(0,b.length-1);return g+f+"e-"+d}},AddNumber:function(a){var b=document.getElementById("$myPid_eyeCalc_Textbox");b.focus(),b.value==="0"||eyeCalc_$myPid.ClearOnNext?(b.value=a,eyeCalc_$myPid.ClearOnNext=0):b.value==="-0"?b.value="-"+a:b.value+=a},C:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value="0",eyeCalc_$myPid.Action=0,eyeCalc_$myPid.ClearOnNext=0,eyeCalc_$myPid.Memory="null"},CE:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value="0",eyeCalc_$myPid.ClearOnNext=0},Cos:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value=Math.cos(parseFloat(a.value)/180*Math.PI)+"",eyeCalc_$myPid.ClearOnNext=1},Delete:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value=a.value.substr(0,a.value.length-1);if(a.value===""||a.value==="-"||eyeCalc_$myPid.ClearOnNext)a.value="0",eyeCalc_$myPid.ClearOnNext=0},DoAction:function(a){var b=document.getElementById("$myPid_eyeCalc_Textbox");b.focus();if(eyeCalc_$myPid.Memory==="null")eyeCalc_$myPid.Memory=parseFloat(b.value);else if(!eyeCalc_$myPid.ClearOnNext){if(eyeCalc_$myPid.Action==="/"&&!parseFloat(b.value))return eyeMessageBoxShow("$lang:Division by zero is invalid!"),b.focus(),!1;if(eyeCalc_$myPid.Action==="^"&&!eyeCalc_$myPid.Memory&&parseFloat(b.value)<=0)return eyeMessageBoxShow("$lang:Exponentiation of zero by a negative number or zero is invalid!"),b.focus(),!1;eyeCalc_$myPid.Action==="+"?eyeCalc_$myPid.Memory=eyeCalc_$myPid.Actions.Output(eyeCalc_$myPid.Actions.Plus(eyeCalc_$myPid.Memory,b.value)):eyeCalc_$myPid.Action==="-"?eyeCalc_$myPid.Memory=eyeCalc_$myPid.Actions.Output(eyeCalc_$myPid.Actions.Plus(eyeCalc_$myPid.Memory,"-"+b.value)):eyeCalc_$myPid.Action==="*"?eyeCalc_$myPid.Memory=eyeCalc_$myPid.Actions.Output(eyeCalc_$myPid.Actions.Multiply(eyeCalc_$myPid.Memory,b.value)):eyeCalc_$myPid.Action==="/"?eyeCalc_$myPid.Memory=eyeCalc_$myPid.Actions.Output(eyeCalc_$myPid.Actions.Divide(eyeCalc_$myPid.Memory,b.value)):eyeCalc_$myPid.Action==="^"&&(eyeCalc_$myPid.Memory=Math.pow(eyeCalc_$myPid.Memory,parseFloat(b.value))),b.value=eyeCalc_$myPid.Memory+""}return eyeCalc_$myPid.Action=a,eyeCalc_$myPid.ClearOnNext=1,!0},Dot:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),eyeCalc_$myPid.ClearOnNext&&(a.value="0",eyeCalc_$myPid.ClearOnNext=0),a.value.substr(a.value.length-1)==="."?a.value=a.value.substr(0,a.value.length-1):typeof a.value.split(".")[1]=="undefined"&&(a.value+=".")},Equal:function(){eyeCalc_$myPid.DoAction(0),eyeCalc_$myPid.Memory="null"},Exp:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value=Math.exp(parseFloat(a.value))+"",eyeCalc_$myPid.ClearOnNext=1},LN:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus();if(parseFloat(a.value)<=0)return eyeMessageBoxShow("$lang:Logarithm of a negative number or zero is invalid!"),!1;a.value=Math.log(parseFloat(a.value))+"",eyeCalc_$myPid.ClearOnNext=1},Log:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus();if(parseFloat(a.value)<=0)return eyeMessageBoxShow("$lang:Logarithm of a negative number or zero is invalid!"),!1;a.value=Math.log(parseFloat(a.value))/Math.log(10)+"",eyeCalc_$myPid.ClearOnNext=1},Factorial:function(){var a,b,c;a=document.getElementById("$myPid_eyeCalc_Textbox"),a.focus(),b=parseFloat(a.value);if(b<0||Math.floor(b)!==b)if(b<0){if(Math.floor(b)===b)return eyeMessageBoxShow("$lang:Factorial of a negative number is invalid!"),!1;a.value=Math.PI/(Math.sin(Math.PI*(b-1))*Math.exp(eyeCalc_$myPid.Actions.LogGamma(-b)))+""}else a.value=Math.exp(eyeCalc_$myPid.Actions.LogGamma(b-1))+"";else{c=1;while(b>0)c*=b,b-=1;a.value=c+""}eyeCalc_$myPid.ClearOnNext=1},OneDivX:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus();if(!parseFloat(a.value))return eyeMessageBoxShow("$lang:Division by zero is invalid!"),!1;a.value=eyeCalc_$myPid.Actions.Output(eyeCalc_$myPid.Actions.Divide("1",a.value))+"",eyeCalc_$myPid.ClearOnNext=1},Percentage:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value=eyeCalc_$myPid.Actions.Output(eyeCalc_$myPid.Actions.Input(a.value)+"e-2")+"",eyeCalc_$myPid.ClearOnNext=1},Pi:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value=Math.PI+"",eyeCalc_$myPid.ClearOnNext=1},Sign:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),eyeCalc_$myPid.ClearOnNext&&(a.value="0",eyeCalc_$myPid.ClearOnNext=0),a.value.substr(0,1)==="-"?a.value=a.value.substr(1):a.value="-"+a.value},Sin:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value=Math.sin(parseFloat(a.value)/180*Math.PI)+"",eyeCalc_$myPid.ClearOnNext=1},Sqrt:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus();if(parseFloat(a.value)<0)return eyeMessageBoxShow("$lang:Square root of a negative number is invalid!"),!1;a.value=Math.sqrt(parseFloat(a.value))+"",eyeCalc_$myPid.ClearOnNext=1},Tan:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value=Math.tan(parseFloat(a.value)/180*Math.PI)+"",eyeCalc_$myPid.ClearOnNext=1},XPowThree:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value=eyeCalc_$myPid.Actions.Output(eyeCalc_$myPid.Actions.Multiply(eyeCalc_$myPid.Actions.Multiply(a.value,a.value),a.value)),eyeCalc_$myPid.ClearOnNext=1},XPowTwo:function(){var a=document.getElementById("$myPid_eyeCalc_Textbox");a.focus(),a.value=eyeCalc_$myPid.Actions.Output(eyeCalc_$myPid.Actions.Multiply(a.value,a.value)),eyeCalc_$myPid.ClearOnNext=1}};eyeCalc_$myPid.Init();