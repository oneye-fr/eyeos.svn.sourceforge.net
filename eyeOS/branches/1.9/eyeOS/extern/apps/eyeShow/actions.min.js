var SlimeyInsertAction,SlimeyEditContentAction,SlimeyEditStyleAction,SlimeyDeleteAction,SlimeyMoveAction,SlimeyResizeAction,SlimeySendToBackAction,SlimeyBringToFrontAction,SlimeyChangeSlideAction,SlimeyInsertSlideAction,SlimeyDeleteSlideAction,SlimeyMoveSlideAction,SlimeyAction=function(a,b){this.name=a,this.slimey=b};SlimeyAction.prototype.getName=function(){return this.name},SlimeyAction.prototype.perform=function(){},SlimeyAction.prototype.undo=function(){},SlimeyInsertAction=function(a,b){SlimeyAction.call(this,"insert",a);var c=this.slimey.editor.getContainer().ownerDocument.createElement(b);c.slimey=this.slimey,c.className="slimeyElement",c.style.position="absolute",c.style.left="40%",c.style.top="30%",c.style.lineHeight="1.",c.style.cursor="move",c.style.fontFamily="sans-serif",c.style.fontSize="160%",c.style.margin="0px",c.style.padding="0px",c.style.border="0px",c.style.zIndex=1e4,c.tagName=="DIV"?(c.style.left="5%",c.style.top="15%",c.style.width="90%",c.style.height="10%",c.innerHTML=lang("some text"),c.style.textAlign="center",c.resizable=!0,c.editable=!0):c.tagName=="IMG"?(c.style.width="20%",c.style.height="20%",c.resizable=!0,c.title=lang("drag the bottom right corner to resize")):(c.tagName=="UL"?c.innerHTML="<li>"+lang("some text")+"</li>":c.tagName=="OL"?c.innerHTML="<li>"+lang("some text")+"</li>":c.innerHTML=lang("some text"),c.editable=!0,c.title=lang("double click to edit content")),setEventHandler(c,"mousedown",slimeyDrag),setEventHandler(c,"click",slimeyClick),setEventHandler(c,"dblclick",slimeyEdit),setEventHandler(c,"mouseover",slimeyHighlight),setEventHandler(c,"mouseout",slimeyLowshadow),this.element=c},SlimeyInsertAction.prototype=new SlimeyAction,SlimeyInsertAction.prototype.getElement=function(){return this.element},SlimeyInsertAction.prototype.perform=function(){this.slimey.editor.getContainer().appendChild(this.element)},SlimeyInsertAction.prototype.undo=function(){var a;this.slimey.editor.getContainer().removeChild(this.element),a=this.slimey.editor.getSelected(),a==this.element&&this.slimey.editor.deselect()},SlimeyEditContentAction=function(a,b,c){SlimeyAction.call(this,"editContent",a),c?this.element=c:this.element=this.slimey.editor.getSelected(),this.content=b},SlimeyEditContentAction.prototype=new SlimeyAction,SlimeyEditContentAction.prototype.perform=function(){this.previousContent=this.element.innerHTML,this.element.innerHTML=this.content},SlimeyEditContentAction.prototype.undo=function(){this.element.innerHTML=this.previousContent},SlimeyEditStyleAction=function(a,b,c){SlimeyAction.call(this,"editStyle",a),this.element=this.slimey.editor.getSelected(),this.property=b,this.value=c},SlimeyEditStyleAction.prototype=new SlimeyAction,SlimeyEditStyleAction.prototype.perform=function(){this.previousValue=this.element.style[this.property],this.element.style[this.property]=this.value},SlimeyEditStyleAction.prototype.undo=function(){this.element.style[this.property]=this.previousValue},SlimeyDeleteAction=function(a){SlimeyAction.call(this,"delete",a);var b=this.slimey.editor.getSelected();this.element=b},SlimeyDeleteAction.prototype=new SlimeyAction,SlimeyDeleteAction.prototype.perform=function(){this.slimey.editor.getContainer().removeChild(this.element),this.slimey.editor.deselect()},SlimeyDeleteAction.prototype.undo=function(){this.slimey.editor.getContainer().appendChild(this.element)},SlimeyMoveAction=function(a,b,c,d,e){SlimeyAction.call(this,"move",a);var f=this.slimey.editor.getSelected();this.newx=b,this.newy=c,d?this.oldx=d:this.oldx=f.style.left,e?this.oldy=e:this.oldy=f.style.top,this.element=f},SlimeyMoveAction.prototype=new SlimeyAction,SlimeyMoveAction.prototype.perform=function(){this.element.style.left=this.newx,this.element.style.top=this.newy},SlimeyMoveAction.prototype.undo=function(){this.element.style.left=this.oldx,this.element.style.top=this.oldy},SlimeyResizeAction=function(a,b,c,d,e){SlimeyAction.call(this,"resize",a);var f=this.slimey.editor.getSelected();this.neww=b,this.newh=c,d?this.oldw=d:this.oldw=f.style.width,e?this.oldh=e:this.oldh=f.style.height,this.element=f},SlimeyResizeAction.prototype=new SlimeyAction,SlimeyResizeAction.prototype.perform=function(){this.element.style.width=this.neww,this.element.style.height=this.newh},SlimeyResizeAction.prototype.undo=function(){this.element.style.width=this.oldw,this.element.style.height=this.oldh},SlimeySendToBackAction=function(a){SlimeyAction.call(this,"sendToBack",a);var b=this.slimey.editor.getSelected();this.element=b},SlimeySendToBackAction.prototype=new SlimeyAction,SlimeySendToBackAction.prototype.perform=function(){var a,b=1e8;for(a=this.slimey.editor.getContainer().firstChild;a;a=a.nextSibling)a.nodeType==1&&(thisZ=parseInt(a.style.zIndex),thisZ<b&&(b=thisZ));this.oldZ=this.element.style.zIndex,this.element.style.zIndex=b-1},SlimeySendToBackAction.prototype.undo=function(){this.element.style.zIndex=this.oldZ},SlimeyBringToFrontAction=function(a){SlimeyAction.call(this,"bringToFront",a);var b=this.slimey.editor.getSelected();this.element=b},SlimeyBringToFrontAction.prototype=new SlimeyAction,SlimeyBringToFrontAction.prototype.perform=function(){var a,b=0;for(a=this.slimey.editor.getContainer().firstChild;a;a=a.nextSibling)a.nodeType==1&&(thisZ=parseInt(a.style.zIndex),thisZ>b&&(b=thisZ));this.oldZ=this.element.style.zIndex,this.element.style.zIndex=b+1},SlimeyBringToFrontAction.prototype.undo=function(){this.element.style.zIndex=this.oldZ},SlimeyChangeSlideAction=function(a,b){SlimeyAction.call(this,"changeSlide",a),this.num=b},SlimeyChangeSlideAction.prototype=new SlimeyAction,SlimeyChangeSlideAction.prototype.perform=function(){this.previousSlide=this.slimey.navigation.currentSlide,this.slimey.navigation.getSlide(this.num)},SlimeyChangeSlideAction.prototype.undo=function(){this.slimey.navigation.getSlide(this.previousSlide)},SlimeyInsertSlideAction=function(a,b){SlimeyAction.call(this,"insertSlide",a),this.num=b},SlimeyInsertSlideAction.prototype=new SlimeyAction,SlimeyInsertSlideAction.prototype.perform=function(){this.slimey.navigation.insertNewSlide(this.num)},SlimeyInsertSlideAction.prototype.undo=function(){this.slimey.navigation.deleteSlide(this.num)},SlimeyDeleteSlideAction=function(a,b){SlimeyAction.call(this,"deleteSlide",a),this.num=b},SlimeyDeleteSlideAction.prototype=new SlimeyAction,SlimeyDeleteSlideAction.prototype.perform=function(){this.html=this.slimey.editor.getHTML(),this.dom=document.createElement("div"),this.slimey.editor.getDOM(this.dom),this.slimey.navigation.deleteSlide(this.num)},SlimeyDeleteSlideAction.prototype.undo=function(){this.slimey.navigation.insertNewSlide(this.num,this.html,this.dom)},SlimeyMoveSlideAction=function(a,b,c){SlimeyAction.call(this,"moveSlide",a),this.from=b,this.to=c},SlimeyMoveSlideAction.prototype=new SlimeyAction,SlimeyMoveSlideAction.prototype.perform=function(){this.slimey.navigation.moveSlide(this.from,this.to)},SlimeyMoveSlideAction.prototype.undo=function(){this.slimey.navigation.moveSlide(this.to,this.from)};