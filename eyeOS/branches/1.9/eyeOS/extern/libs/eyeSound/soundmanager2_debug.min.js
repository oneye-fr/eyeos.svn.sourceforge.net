(function(a){function c(b,c){function Rb(a){return function(b){return!this._t||!this._t._a?(this._t&&this._t.sID?e._wD(h+"ignoring "+b.type+": "+this._t.sID):e._wD(h+"ignoring "+b.type),null):a.call(this,b)}}var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb;this.flashVersion=8,this.debugMode=!0,this.debugFlash=!1,this.useConsole=!0,this.consoleOnly=!1,this.waitForWindowLoad=!1,this.bgColor="#ffffff",this.useHighPerformance=!1,this.flashPollingInterval=null,this.flashLoadTimeout=1e3,this.wmode=null,this.allowScriptAccess="always",this.useFlashBlock=!1,this.useHTML5Audio=!0,this.html5Test=/^(probably|maybe)$/i,navigator.appName=="Microsoft Internet Explorer"?this.preferFlash=!0:this.preferFlash=!1,this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.defaultOptions={autoLoad:!1,stream:!0,autoPlay:!1,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.movieID="sm2-container",this.id=c||"sm2movie",this.swfCSS={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20110918",this.version=null,this.movieURL=null,this.url=b||null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.o=null,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.specialWmodeCase=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={type:null,types:{remote:"remote (domain-based) rules",localWithFile:"local with file access (no internet access)",localWithNetwork:"local with network (internet access only, no local access)",localTrusted:"local, trusted (local+internet access)"},description:null,noRemote:null,noLocal:null},this.hasHTML5=typeof Audio!="undefined"&&typeof (new Audio).canPlayType!="undefined",this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1,e=this,f="soundManager",g=f+"::",h="HTML5::",j=navigator.userAgent,k=a,l=k.location.href+"",m=document,q=[],r=!0,t=!1,u=!1,v=!1,w=!1,x=!1,z=0,S=["log","info","warn","error"],T=8,X=null,Y=null,fb=!1,gb=!1,jb=null,sb=Array.prototype.slice,tb=!1,zb=j.match(/(ipad|iphone|ipod)/i),Ab=j.match(/(mobile|pre\/|xoom)/i)||zb,Bb=j.match(/msie/i),Cb=j.match(/webkit/i),Db=j.match(/safari/i)&&!j.match(/chrome/i),Eb=j.match(/opera/i),Fb=!l.match(/usehtml5audio/i)&&!l.match(/sm2\-ignorebadua/i)&&Db&&j.match(/OS X 10_6_([3-7])/i),Gb=typeof console!="undefined"&&typeof console.log!="undefined",Hb=typeof m.hasFocus!="undefined"?m.hasFocus():null,Ib=Db&&typeof m.hasFocus=="undefined",Jb=!Ib,Kb=/(mp3|mp4|mpa)/i,Lb="about:blank",Mb=m.location?m.location.protocol.match(/http/i):null,Nb=Mb?"":"http://",Ob=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|mp4v|3gp|3g2)\s*(?:$|;)/i,Pb=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"],Qb=RegExp("\\.("+Pb.join("|")+")(\\?.*)?$","i"),this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Mb,this._global_a=null,Ab&&(e.useHTML5Audio=!0,e.preferFlash=!1,zb&&(e.ignoreFlash=!0,tb=!0)),this.ok=function(){return jb?v&&!w:e.useHTML5Audio&&e.hasHTML5},this.supported=this.ok,this.getMovie=function(a){return i(a)||m[a]||k[a]},this.createSound=function(a){function i(){return c=bb(c),e.sounds[h.id]=new d(h),e.soundIDs.push(h.id),e.sounds[h.id]}var b=f+".createSound(): ",c=null,g=null,h=null;return!v||!e.ok()?(db(b+Z(v?"notOK":"notReady")),!1):(arguments.length===2&&(a={id:arguments[0],url:arguments[1]}),c=B(a),h=c,(h.id+"").charAt(0).match(/^[0-9]$/)&&e._wD(b+Z("badID",h.id),2),e._wD(b+h.id+" ("+h.url+")",1),eb(h.id,!0)?(e._wD(b+h.id+" exists",1),e.sounds[h.id]):(lb(h)?(g=i(),e._wD("Loading sound "+h.id+" via HTML5"),g._setup_html5(h)):(p>8&&(h.isMovieStar===null&&(h.isMovieStar=h.serverURL||(h.type?h.type.match(Ob):!1)||h.url.match(Qb)),h.isMovieStar&&e._wD(b+"using MovieStar handling"),h.isMovieStar&&(h.usePeakData&&(y("noPeak"),h.usePeakData=!1),h.loops>1&&y("noNSLoop"))),h=cb(h,b),g=i(),p===8?e.o._createSound(h.id,h.loops||1,h.usePolicyFile):(e.o._createSound(h.id,h.url,h.usePeakData,h.useWaveformData,h.useEQData,h.isMovieStar,h.isMovieStar?h.bufferTime:!1,h.loops||1,h.serverURL,h.duration||null,h.autoPlay,!0,h.autoLoad,h.usePolicyFile),h.serverURL||(g.connected=!0,h.onconnect&&h.onconnect.apply(g))),!h.serverURL&&(h.autoLoad||h.autoPlay)&&g.load(h)),!h.serverURL&&h.autoPlay&&g.play(),g))},this.destroySound=function(a,b){var c,d;if(!eb(a))return!1;c=e.sounds[a],c._iO={},c.stop(),c.unload();for(d=0;d<e.soundIDs.length;d++)if(e.soundIDs[d]===a){e.soundIDs.splice(d,1);break}return b||c.destruct(!0),c=null,delete e.sounds[a],!0},this.load=function(a,b){return eb(a)?e.sounds[a].load(b):!1},this.unload=function(a){return eb(a)?e.sounds[a].unload():!1},this.onposition=function(a,b,c,d){return eb(a)?e.sounds[a].onposition(b,c,d):!1},this.play=function(a,b){var c=f+".play(): ";return!v||!e.ok()?(db(c+Z(v?"notOK":"notReady")),!1):eb(a)?e.sounds[a].play(b):(b instanceof Object||(b={url:b}),b&&b.url?(e._wD(c+'attempting to create "'+a+'"',1),b.id=a,e.createSound(b).play()):!1)},this.start=this.play,this.setPosition=function(a,b){return eb(a)?e.sounds[a].setPosition(b):!1},this.stop=function(a){return eb(a)?(e._wD(f+".stop("+a+")",1),e.sounds[a].stop()):!1},this.stopAll=function(){var a;e._wD(f+".stopAll()",1);for(a in e.sounds)e.sounds.hasOwnProperty(a)&&e.sounds[a].stop()},this.pause=function(a){return eb(a)?e.sounds[a].pause():!1},this.pauseAll=function(){var a;for(a=e.soundIDs.length;a--;)e.sounds[e.soundIDs[a]].pause()},this.resume=function(a){return eb(a)?e.sounds[a].resume():!1},this.resumeAll=function(){var a;for(a=e.soundIDs.length;a--;)e.sounds[e.soundIDs[a]].resume()},this.togglePause=function(a){return eb(a)?e.sounds[a].togglePause():!1},this.setPan=function(a,b){return eb(a)?e.sounds[a].setPan(b):!1},this.setVolume=function(a,b){return eb(a)?e.sounds[a].setVolume(b):!1},this.mute=function(a){var b=f+".mute(): ",c=0;typeof a!="string"&&(a=null);if(!a){e._wD(b+"Muting all sounds");for(c=e.soundIDs.length;c--;)e.sounds[e.soundIDs[c]].mute();return e.muted=!0,!0}return eb(a)?(e._wD(b+'Muting "'+a+'"'),e.sounds[a].mute()):!1},this.muteAll=function(){e.mute()},this.unmute=function(a){var b,c=f+".unmute(): ";typeof a!="string"&&(a=null);if(!a){e._wD(c+"Unmuting all sounds");for(b=e.soundIDs.length;b--;)e.sounds[e.soundIDs[b]].unmute();return e.muted=!1,!0}return eb(a)?(e._wD(c+'Unmuting "'+a+'"'),e.sounds[a].unmute()):!1},this.unmuteAll=function(){e.unmute()},this.toggleMute=function(a){return eb(a)?e.sounds[a].toggleMute():!1},this.getMemoryUse=function(){var a=0;return e.o&&p!==8&&(a=parseInt(e.o._getMemoryUse(),10)),a},this.disable=function(a){var b;typeof a=="undefined"&&(a=!1);if(w)return!1;w=!0,y("shutdown",1);for(b=e.soundIDs.length;b--;)U(e.sounds[e.soundIDs[b]]);return A(a),rb.remove(k,"load",E),!0},this.canPlayMIME=function(a){var b;return e.hasHTML5&&(b=mb({type:a})),!jb||b?b:a?!!((p>8?a.match(Ob):null)||a.match(e.mimePattern)):null},this.canPlayURL=function(a){var b;return e.hasHTML5&&(b=mb({url:a})),!jb||b?b:a?!!a.match(e.filePattern):null},this.canPlayLink=function(a){return typeof a.type!="undefined"&&a.type&&e.canPlayMIME(a.type)?!0:e.canPlayURL(a.href)},this.getSoundById=function(a,b){var c;if(!a)throw Error(f+".getSoundById(): sID is null/undefined");return c=e.sounds[a],!c&&!b&&e._wD('"'+a+'" is an invalid sound ID.',2),c},this.onready=function(a,b){var c="onready";if(a&&a instanceof Function)return v&&e._wD(Z("queue",c)),b||(b=k),C(c,a,b),D(),!0;throw Z("needFunction",c)},this.ontimeout=function(a,b){var c="ontimeout";if(a&&a instanceof Function)return v&&e._wD(Z("queue",c)),b||(b=k),C(c,a,b),D({type:c}),!0;throw Z("needFunction",c)},this._writeDebug=function(a,b,c){var d,f,g,h="soundmanager-debug";if(!e.debugMode)return!1;typeof c!="undefined"&&c&&(a=a+" | "+(new Date).getTime());if(Gb&&e.useConsole){g=S[b],typeof console[g]!="undefined"?console[g](a):console.log(a);if(e.useConsoleOnly)return!0}try{d=i(h);if(!d)return!1;f=m.createElement("div"),++z%2===0&&(f.className="sm2-alt"),typeof b=="undefined"?b=0:b=parseInt(b,10),f.appendChild(m.createTextNode(a)),b&&(b>=2&&(f.style.fontWeight="bold"),b===3&&(f.style.color="#ff3333")),d.insertBefore(f,d.firstChild)}catch(j){}return d=null,!0},this._wD=this._writeDebug,this._debug=function(){var a,b;y("currentObj",1);for(a=0,b=e.soundIDs.length;a<b;a++)e.sounds[e.soundIDs[a]]._debug()},this.reboot=function(){var a,b;e._wD(f+".reboot()"),e.soundIDs.length&&e._wD("Destroying "+e.soundIDs.length+" SMSound objects...");for(a=e.soundIDs.length;a--;)e.sounds[e.soundIDs[a]].destruct();try{Bb&&(Y=e.o.innerHTML),X=e.o.parentNode.removeChild(e.o),e._wD("Flash movie removed.")}catch(c){y("badRemove",2)}Y=X=jb=null,e.enabled=M=v=fb=gb=t=u=w=e.swfLoaded=!1,e.soundIDs=e.sounds=[],e.o=null;for(a in q)if(q.hasOwnProperty(a))for(b=q[a].length;b--;)q[a][b].fired=!1;e._wD(f+": Rebooting..."),k.setTimeout(e.beginDelayedInit,20)},this.getMoviePercent=function(){return e.o&&typeof e.o.PercentLoaded!="undefined"?e.o.PercentLoaded():null},this.beginDelayedInit=function(){x=!0,L(),setTimeout(function(){return gb?!1:(O(),K(),gb=!0,!0)},20),F()},this.destruct=function(){e._wD(f+".destruct()"),e.disable(!0)},d=function(a){var b,c,d,f=this;this.sID=a.id,this.url=a.url,this.options=B(a),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this._lastURL=null,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){var a,b,c,d,g;if(e.debugMode){a=null,b=[],g=64;for(a in f.options)f.options[a]!==null&&(f.options[a]instanceof Function?(c=f.options[a]+"",c=c.replace(/\s\s+/g," "),d=c.indexOf("{"),b.push(" "+a+": {"+c.substr(d+1,Math.min(Math.max(c.indexOf("\n")-1,g),g)).replace(/\n/g,"")+"... }")):b.push(" "+a+": "+f.options[a]));e._wD("SMSound() merged options: {\n"+b.join(", \n")+"\n}")}},this._debug(),this.load=function(a){var b=null;typeof a!="undefined"?(f._iO=B(a,f.options),f.instanceOptions=f._iO):(a=f.options,f._iO=a,f.instanceOptions=f._iO,f._lastURL&&f._lastURL!==f.url&&(y("manURL"),f._iO.url=f.url,f.url=null)),f._iO.url||(f._iO.url=f.url),e._wD("SMSound.load(): "+f._iO.url,1);if(f._iO.url===f.url&&f.readyState!==0&&f.readyState!==2)return y("onURL",1),f;f._lastURL=f.url,f.loaded=!1,f.readyState=1,f.playState=0;if(lb(f._iO))b=f._setup_html5(f._iO),b._called_load?e._wD(h+"ignoring request to load again: "+f.sID):(e._wD(h+"load: "+f.sID),f._html5_canplay=!1,b.load(),b._called_load=!0,f._iO.autoPlay&&f.play());else try{f.isHTML5=!1,f._iO=cb(bb(f._iO)),p===8?e.o._load(f.sID,f._iO.url,f._iO.stream,f._iO.autoPlay,f._iO.whileloading?1:0,f._iO.loops||1,f._iO.usePolicyFile):e.o._load(f.sID,f._iO.url,!!f._iO.stream,!!f._iO.autoPlay,f._iO.loops||1,!!f._iO.autoLoad,f._iO.usePolicyFile)}catch(c){y("smError",2),s("onload",!1),P({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return f},this.unload=function(){return f.readyState!==0&&(e._wD('SMSound.unload(): "'+f.sID+'"'),f.isHTML5?(c(),f._a&&(f._a.pause(),ob(f._a))):p===8?e.o._unload(f.sID,Lb):e.o._unload(f.sID),b()),f},this.destruct=function(a){e._wD('SMSound.destruct(): "'+f.sID+'"'),f.isHTML5?(c(),f._a&&(f._a.pause(),ob(f._a),tb||f._remove_html5_events(),f._a._t=null,f._a=null)):(f._iO.onfailure=null,e.o._destroySound(f.sID)),a||e.destroySound(f.sID,!0)},this.play=function(a,b){var c,g,h="SMSound.play(): ";b=b===undefined?!0:b,a||(a={}),f._iO=B(a,f._iO),f._iO=B(f._iO,f.options),f.instanceOptions=f._iO;if(f._iO.serverURL&&!f.connected)return f.getAutoPlay()||(e._wD(h+" Netstream not connected yet - setting autoPlay"),f.setAutoPlay(!0)),f;lb(f._iO)&&(f._setup_html5(f._iO),d());if(f.playState===1&&!f.paused){c=f._iO.multiShot;if(!c)return e._wD(h+'"'+f.sID+'" already playing (one-shot)',1),f;e._wD(h+'"'+f.sID+'" already playing (multi-shot)',1)}if(!f.loaded)if(f.readyState===0)e._wD(h+'Attempting to load "'+f.sID+'"',1),f.isHTML5||(f._iO.autoPlay=!0),f.load(f._iO);else{if(f.readyState===2)return e._wD(h+'Could not load "'+f.sID+'" - exiting',2),f;e._wD(h+'"'+f.sID+'" is loading - attempting to play..',1)}else e._wD(h+'"'+f.sID+'"');return!f.isHTML5&&p===9&&f.position>0&&f.position===f.duration&&(e._wD(h+'"'+f.sID+'": Sound at end, resetting to position:0'),f._iO.position=0),f.paused&&f.position&&f.position>0?(e._wD(h+'"'+f.sID+'" is resuming from paused state',1),f.resume()):(e._wD(h+'"'+f.sID+'" is starting to play'),f.playState=1,f.paused=!1,(!f.instanceCount||f._iO.multiShotEvents||!f.isHTML5&&p>8&&!f.getAutoPlay())&&f.instanceCount++,f.position=typeof f._iO.position!="undefined"&&!isNaN(f._iO.position)?f._iO.position:0,f.isHTML5||(f._iO=cb(bb(f._iO))),f._iO.onplay&&b&&(f._iO.onplay.apply(f),f._onplay_called=!0),f.setVolume(f._iO.volume,!0),f.setPan(f._iO.pan,!0),f.isHTML5?(d(),g=f._setup_html5(),f.setPosition(f._iO.position),g.play()):e.o._start(f.sID,f._iO.loops||1,p===9?f._iO.position:f._iO.position/1e3)),f},this.start=this.play,this.stop=function(a){return f.playState===1&&(f._onbufferchange(0),f.resetOnPosition(0),f.paused=!1,f.isHTML5||(f.playState=0),f._iO.onstop&&f._iO.onstop.apply(f),f.isHTML5?f._a&&(f.setPosition(0),f._a.pause(),f.playState=0,f._onTimer(),c()):(e.o._stop(f.sID,a),f._iO.serverURL&&f.unload()),f.instanceCount=0,f._iO={}),f},this.setAutoPlay=function(a){e._wD("sound "+f.sID+" turned autoplay "+(a?"on":"off")),f._iO.autoPlay=a,f.isHTML5||(e.o._setAutoPlay(f.sID,a),a&&!f.instanceCount&&f.readyState===1&&(f.instanceCount++,e._wD("sound "+f.sID+" incremented instance count to "+f.instanceCount)))},this.getAutoPlay=function(){return f._iO.autoPlay},this.setPosition=function(a){var b,c,d,g;a===undefined&&(a=0),g=f.isHTML5?Math.max(a,0):Math.min(f.duration||f._iO.duration,Math.max(a,0)),b=f.position,f.position=g,d=f.position/1e3,f.resetOnPosition(f.position),f._iO.position=g;if(!f.isHTML5)c=p===9?f.position:d,f.readyState&&f.readyState!==2&&e.o._setPosition(f.sID,c,f.paused||!f.playState);else if(f._a)if(f._html5_canplay){if(f._a.currentTime!==d){e._wD("setPosition("+d+"): setting position");try{f._a.currentTime=d,(f.playState===0||f.paused)&&f._a.pause()}catch(h){e._wD("setPosition("+d+"): setting position failed: "+h.message,2)}}}else e._wD("setPosition("+d+"): delaying, sound not ready");return f.isHTML5&&f.paused&&f._onTimer(!0),f},this.pause=function(a){return f.paused||f.playState===0&&f.readyState!==1?f:(e._wD("SMSound.pause()"),f.paused=!0,f.isHTML5?(f._setup_html5().pause(),c()):(a||a===undefined)&&e.o._pause(f.sID),f._iO.onpause&&f._iO.onpause.apply(f),f)},this.resume=function(){return f.paused?(e._wD("SMSound.resume()"),f.paused=!1,f.playState=1,f.isHTML5?(f._setup_html5().play(),d()):(f._iO.isMovieStar&&f.setPosition(f.position),e.o._pause(f.sID)),!f._onplay_called&&f._iO.onplay?(f._iO.onplay.apply(f),f._onplay_called=!0):f._iO.onresume&&f._iO.onresume.apply(f),f):f},this.togglePause=function(){return e._wD("SMSound.togglePause()"),f.playState===0?(f.play({position:p===9&&!f.isHTML5?f.position:f.position/1e3}),f):(f.paused?f.resume():f.pause(),f)},this.setPan=function(a,b){return typeof a=="undefined"&&(a=0),typeof b=="undefined"&&(b=!1),f.isHTML5||e.o._setPan(f.sID,a),f._iO.pan=a,b||(f.pan=a,f.options.pan=a),f},this.setVolume=function(a,b){return typeof a=="undefined"&&(a=100),typeof b=="undefined"&&(b=!1),f.isHTML5?f._a&&(f._a.volume=Math.max(0,Math.min(1,a/100))):e.o._setVolume(f.sID,e.muted&&!f.muted||f.muted?0:a),f._iO.volume=a,b||(f.volume=a,f.options.volume=a),f},this.mute=function(){return f.muted=!0,f.isHTML5?f._a&&(f._a.muted=!0):e.o._setVolume(f.sID,0),f},this.unmute=function(){var a;return f.muted=!1,a=typeof f._iO.volume!="undefined",f.isHTML5?f._a&&(f._a.muted=!1):e.o._setVolume(f.sID,a?f._iO.volume:f.options.volume),f},this.toggleMute=function(){return f.muted?f.unmute():f.mute()},this.onposition=function(a,b,c){return f._onPositionItems.push({position:a,method:b,scope:typeof c!="undefined"?c:f,fired:!1}),f},this.processOnPosition=function(){var a,b,c=f._onPositionItems.length;if(!c||!f.playState||f._onPositionFired>=c)return!1;for(a=c;a--;)b=f._onPositionItems[a],!b.fired&&f.position>=b.position&&(b.fired=!0,e._onPositionFired++,b.method.apply(b.scope,[b.position]));return!0},this.resetOnPosition=function(a){var b,c,d=f._onPositionItems.length;if(!d)return!1;for(b=d;b--;)c=f._onPositionItems[b],c.fired&&a<=c.position&&(c.fired=!1,e._onPositionFired--);return!0},d=function(){f.isHTML5&&hb(f)},c=function(){f.isHTML5&&ib(f)},b=function(){f._onPositionItems=[],f._onPositionFired=0,f._hasTimer=null,f._onplay_called=!1,f._a=null,f._html5_canplay=!1,f.bytesLoaded=null,f.bytesTotal=null,f.position=null,f.duration=f._iO&&f._iO.duration?f._iO.duration:null,f.durationEstimate=null,f.failures=0,f.loaded=!1,f.playState=0,f.paused=!1,f.readyState=0,f.muted=!1,f.isBuffering=!1,f.instanceOptions={},f.instanceCount=0,f.peakData={left:0,right:0},f.waveformData={left:[],right:[]},f.eqData=[],f.eqData.left=[],f.eqData.right=[]},b(),this._onTimer=function(a){var b,c={};if(f._hasTimer||a)return f._a&&(a||(f.playState>0||f.readyState===1)&&!f.paused)?(f.duration=f._get_html5_duration(),f.durationEstimate=f.duration,b=f._a.currentTime?f._a.currentTime*1e3:0,f._whileplaying(b,c,c,c,c),!0):(e._wD('_onTimer: Warn for "'+f.sID+'": '+(f._a?"":"Could not find element. ")+(f.playState===0?"playState bad, 0?":"playState = "+f.playState+", OK")),!1)},this._get_html5_duration=function(){var a=f._a?f._a.duration*1e3:f._iO?f._iO.duration:undefined,b=a&&!isNaN(a)&&a!==Infinity?a:f._iO?f._iO.duration:null;return b},this._setup_html5=function(a){var c=B(f._iO,a),d=decodeURI,g=tb?e._global_a:f._a,h=d(c.url),i=g&&g._t?g._t.instanceOptions:null;if(g){if(g._t&&i.url===c.url&&(!f._lastURL||f._lastURL===i.url))return g;e._wD("setting new URL on existing object: "+h+(f._lastURL?", old URL: "+f._lastURL:"")),tb&&g._t&&g._t.playState&&c.url!==i.url&&g._t.stop(),b(),g.src=c.url,f.url=c.url,f._lastURL=c.url,g._called_load=!1}else e._wD("creating HTML5 Audio() element with URL: "+h),g=new Audio(c.url),g._called_load=!1,tb&&(e._global_a=g);return f.isHTML5=!0,f._a=g,g._t=f,f._add_html5_events(),g.loop=c.loops>1?"loop":"",c.autoLoad||c.autoPlay?(g.autobuffer="auto",g.preload="auto",f.load(),g._called_load=!0):(g.autobuffer=!1,g.preload="none"),g.loop=c.loops>1?"loop":"",g},this._add_html5_events=function(){function b(a,b,c){return f._a?f._a.addEventListener(a,b,c||!1):null}var a;if(f._a._added_events)return!1;e._wD(h+"adding event listeners: "+f.sID),f._a._added_events=!0;for(a in xb)xb.hasOwnProperty(a)&&b(a,xb[a]);return!0},this._remove_html5_events=function(){function b(a,b,c){return f._a?f._a.removeEventListener(a,b,c||!1):null}var a;e._wD(h+"removing event listeners: "+f.sID),f._a._added_events=!1;for(a in xb)xb.hasOwnProperty(a)&&b(a,xb[a])},this._onload=function(a){var b="SMSound._onload(): ",c=!!a;return e._wD(b+'"'+f.sID+'"'+(c?" loaded.":" failed to load? - "+f.url),c?1:2),!c&&!f.isHTML5&&(e.sandbox.noRemote===!0&&e._wD(b+Z("noNet"),1),e.sandbox.noLocal===!0&&e._wD(b+Z("noLocal"),1)),f.loaded=c,f.readyState=c?3:2,f._onbufferchange(0),f._iO.onload&&f._iO.onload.apply(f,[c]),!0},this._onbufferchange=function(a){var b="SMSound._onbufferchange()";return f.playState===0?!1:a&&f.isBuffering||!a&&!f.isBuffering?!1:(f.isBuffering=a===1,f._iO.onbufferchange&&(e._wD(b+": "+a),f._iO.onbufferchange.apply(f)),!0)},this._onfailure=function(a,b,c){f.failures++,e._wD('SMSound._onfailure(): "'+f.sID+'" count '+f.failures),f._iO.onfailure&&f.failures===1?f._iO.onfailure(f,a,b,c):e._wD("SMSound._onfailure(): ignoring")},this._onfinish=function(){var a=f._iO.onfinish;f._onbufferchange(0),f.resetOnPosition(0),f.instanceCount&&(f.instanceCount--,f.instanceCount||(f.playState=0,f.paused=!1,f.instanceCount=0,f.instanceOptions={},f._iO={},c()),(!f.instanceCount||f._iO.multiShotEvents)&&a&&(e._wD('SMSound._onfinish(): "'+f.sID+'"'),a.apply(f)))},this._whileloading=function(a,b,c,d){f.bytesLoaded=a,f.bytesTotal=b,f.duration=Math.floor(c),f.bufferLength=d,f._iO.isMovieStar?(f.durationEstimate=f.duration,f.readyState!==3&&f._iO.whileloading&&f._iO.whileloading.apply(f)):(f._iO.duration?f.durationEstimate=f.duration>f._iO.duration?f.duration:f._iO.duration:f.durationEstimate=parseInt(f.bytesTotal/f.bytesLoaded*f.duration,10),f.durationEstimate===undefined&&(f.durationEstimate=f.duration),f.readyState!==3&&f._iO.whileloading&&f._iO.whileloading.apply(f))},this._whileplaying=function(a,b,c,d,e){var g;return isNaN(a)||a===null?!1:(f.position=a,f.processOnPosition(),!f.isHTML5&&p>8&&(f._iO.usePeakData&&typeof b!="undefined"&&b&&(f.peakData={left:b.leftPeak,right:b.rightPeak}),f._iO.useWaveformData&&typeof c!="undefined"&&c&&(f.waveformData={left:c.split(","),right:d.split(",")}),f._iO.useEQData&&typeof e!="undefined"&&e&&e.leftEQ&&(g=e.leftEQ.split(","),f.eqData=g,f.eqData.left=g,typeof e.rightEQ!="undefined"&&e.rightEQ&&(f.eqData.right=e.rightEQ.split(",")))),f.playState===1&&(!f.isHTML5&&p===8&&!f.position&&f.isBuffering&&f._onbufferchange(0),f._iO.whileplaying&&f._iO.whileplaying.apply(f)),!0)},this._onid3=function(a,b){var c,d,g;e._wD('SMSound._onid3(): "'+this.sID+'" ID3 data received.'),c=[];for(d=0,g=a.length;d<g;d++)c[a[d]]=b[d];f.id3=B(f.id3,c),f._iO.onid3&&f._iO.onid3.apply(f)},this._onconnect=function(a){var b="SMSound._onconnect(): ";a=a===1,e._wD(b+'"'+f.sID+'"'+(a?" connected.":" failed to connect? - "+f.url),a?1:2),f.connected=a,a&&(f.failures=0,eb(f.sID)&&(f.getAutoPlay()?f.play(undefined,f.getAutoPlay()):f._iO.autoLoad&&f.load()),f._iO.onconnect&&f._iO.onconnect.apply(f,[a]))},this._ondataerror=function(a){f.playState>0&&(e._wD("SMSound._ondataerror(): "+a),f._iO.ondataerror&&f._iO.ondataerror.apply(f))}},N=function(){return m.body||m._docElement||m.getElementsByTagName("div")[0]},i=function(a){return m.getElementById(a)},B=function(a,b){var c,d,f,g={};for(c in a)a.hasOwnProperty(c)&&(g[c]=a[c]);d=typeof b=="undefined"?e.defaultOptions:b;for(f in d)d.hasOwnProperty(f)&&typeof g[f]=="undefined"&&(g[f]=d[f]);return g},rb=function(){function c(b){var c=sb.call(b),d=c.length;return a?(c[1]="on"+c[1],d>3&&c.pop()):d===3&&c.push(!1),c}function d(c,d){var e=c.shift(),f=[b[d]];a?e[f](c[0],c[1]):e[f].apply(e,c)}function e(){d(c(arguments),"add")}function f(){d(c(arguments),"remove")}var a=k.attachEvent,b={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:e,remove:f}}(),xb={abort:Rb(function(){e._wD(h+"abort: "+this._t.sID)}),canplay:Rb(function(){var a;if(this._t._html5_canplay)return!0;this._t._html5_canplay=!0,e._wD(h+"canplay: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0),a=isNaN(this._t.position)?null:this._t.position/1e3;if(this._t.position&&this.currentTime!==a){e._wD(h+"canplay: setting position to "+a);try{this.currentTime=a}catch(b){e._wD(h+"setting position failed: "+b.message,2)}}}),load:Rb(function(){this._t.loaded||(this._t._onbufferchange(0),this._t._whileloading(this._t.bytesTotal,this._t.bytesTotal,this._t._get_html5_duration()),this._t._onload(!0))}),emptied:Rb(function(){e._wD(h+"emptied: "+this._t.sID)}),ended:Rb(function(){e._wD(h+"ended: "+this._t.sID),this._t._onfinish()}),error:Rb(function(){e._wD(h+"error: "+this.error.code),this._t._onload(!1)}),loadeddata:Rb(function(){var a=this._t,b=a.bytesTotal||1;e._wD(h+"loadeddata: "+this._t.sID),!a._loaded&&!Db&&(a.duration=a._get_html5_duration(),a._whileloading(b,b,a._get_html5_duration()),a._onload(!0))}),loadedmetadata:Rb(function(){e._wD(h+"loadedmetadata: "+this._t.sID)}),loadstart:Rb(function(){e._wD(h+"loadstart: "+this._t.sID),this._t._onbufferchange(1)}),play:Rb(function(){e._wD(h+"play: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0)}),playing:Rb(function(){e._wD(h+"playing: "+this._t.sID+", "+this._t.url),this._t._onbufferchange(0)}),progress:Rb(function(a){var b,c,d,f,g,i,j,k;if(this._t.loaded)return!1;f=0,g=a.type==="progress",i=a.target.buffered,j=a.loaded||0,k=a.total||1;if(i&&i.length){for(b=i.length;b--;)f=i.end(b)-i.start(b);j=f/a.target.duration;if(g&&i.length>1){d=[],c=i.length;for(b=0;b<c;b++)d.push(a.target.buffered.start(b)+"-"+a.target.buffered.end(b));e._wD(h+"progress: timeRanges: "+d.join(", "))}g&&!isNaN(j)&&e._wD(h+"progress: "+this._t.sID+": "+Math.floor(j*100)+"% loaded")}isNaN(j)||(this._t._onbufferchange(0),this._t._whileloading(j,k,this._t._get_html5_duration()),j&&k&&j===k&&xb.load.call(this,a))}),ratechange:Rb(function(){e._wD(h+"ratechange: "+this._t.sID)}),suspend:Rb(function(a){e._wD(h+"suspend: "+this._t.sID),xb.progress.call(this,a)}),stalled:Rb(function(){e._wD(h+"stalled: "+this._t.sID)}),timeupdate:Rb(function(){this._t._onTimer()}),waiting:Rb(function(){e._wD(h+"waiting: "+this._t.sID),this._t._onbufferchange(1)})},lb=function(a){return!a.serverURL&&(a.type?mb({type:a.type}):mb({url:a.url})||e.html5Only)},ob=function(a){a&&(a.src=j.match(/gecko/i)?"":Lb)},mb=function(a){function j(a){return e.preferFlash&&ub&&!e.ignoreFlash&&typeof e.flash[a]!="undefined"&&e.flash[a]}var b,c,d,f,g,h,i;if(!e.useHTML5Audio||!e.hasHTML5)return!1;b=a.url||null,c=a.type||null,d=e.audioFormats;if(c&&e.html5[c]!=="undefined")return e.html5[c]&&!j(c);if(!nb){nb=[];for(i in d)d.hasOwnProperty(i)&&(nb.push(i),d[i].related&&(nb=nb.concat(d[i].related)));nb=RegExp("\\.("+nb.join("|")+")(\\?.*)?$","i")}h=b?b.toLowerCase().match(nb):null;if(!h||!h.length){if(!c)return!1;g=c.indexOf(";"),h=(g!==-1?c.substr(0,g):c).substr(6)}else h=h[1];return h&&typeof e.html5[h]!="undefined"?e.html5[h]&&!j(h):(c="audio/"+h,f=e.html5.canPlayType({type:c}),e.html5[h]=f,f&&e.html5[c]&&!j(c))},qb=function(){function g(b){var c,d,f,g=!1;if(!a||typeof a.canPlayType!="function")return!1;if(b instanceof Array){for(d=0,f=b.length;d<f&&!g;d++)if(e.html5[b[d]]||a.canPlayType(b[d]).match(e.html5Test))g=!0,e.html5[b[d]]=!0,e.flash[b[d]]=!!(e.preferFlash&&ub&&b[d].match(Kb));return g}return c=a&&typeof a.canPlayType=="function"?a.canPlayType(b):!1,!!c&&!!c.match(e.html5Test)}var a,b,c,d,f;if(!e.useHTML5Audio||typeof Audio=="undefined")return!1;a=typeof Audio!="undefined"?Eb?new Audio(null):new Audio:null,c={},d=e.audioFormats;for(b in d)if(d.hasOwnProperty(b)){c[b]=g(d[b].type),c["audio/"+b]=c[b],e.preferFlash&&!e.ignoreFlash&&b.match(Kb)?e.flash[b]=!0:e.flash[b]=!1;if(d[b]&&d[b].related)for(f=d[b].related.length;f--;)c["audio/"+d[b].related[f]]=c[b],e.html5[d[b].related[f]]=c[b],e.flash[d[b].related[f]]=c[b]}return c.canPlayType=a?g:null,e.html5=B(e.html5,c),!0},J={notReady:"Not loaded yet - wait for soundManager.onload()/onready()",notOK:"Audio support is not available.",domError:g+"createMovie(): appendChild/innerHTML call failed. DOM not ready or other error.",spcWmode:g+"createMovie(): Removing wmode, preventing known SWF loading issue(s)",swf404:f+": Verify that %s is a valid path.",tryDebug:"Try "+f+".debugFlash = true for more security details (output goes to SWF.)",checkSWF:"See SWF output for more debug info.",localFail:f+": Non-HTTP page ("+m.location.protocol+" URL?) Review Flash player security settings for this special case:\nhttp://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html\nMay need to add/allow path, eg. c:/sm2/ or /users/me/sm2/",waitFocus:f+": Special case: Waiting for focus-related event..",waitImpatient:f+": Getting impatient, still waiting for Flash%s...",waitForever:f+": Waiting indefinitely for Flash (will recover if unblocked)...",needFunction:f+": Function object expected for %s",badID:'Warning: Sound ID "%s" should be a string, starting with a non-numeric character',currentObj:"--- "+f+"._debug(): Current sound objects ---",waitEI:g+"initMovie(): Waiting for ExternalInterface call from Flash..",waitOnload:f+": Waiting for window.onload()",docLoaded:f+": Document already loaded",onload:g+"initComplete(): calling soundManager.onload()",onloadOK:f+".onload() complete",init:g+"init()",didInit:g+"init(): Already called?",flashJS:f+": Attempting to call Flash from JS..",secNote:"Flash security note: Network/internet URLs will not load due to security restrictions. Access can be configured via Flash Player Global Security Settings Page: http://www.macromedia.com/support/documentation/en/flashplayer/help/settings_manager04.html",badRemove:"Warning: Failed to remove flash movie.",noPeak:"Warning: peakData features unsupported for movieStar formats",shutdown:f+".disable(): Shutting down",queue:f+": Queueing %s handler",smFail:f+": Failed to initialise.",smError:"SMSound.load(): Exception: JS-Flash communication failed, or JS error.",fbTimeout:"No flash response, applying ."+e.swfCSS.swfTimedout+" CSS..",fbLoaded:"Flash loaded",fbHandler:g+"flashBlockHandler()",manURL:"SMSound.load(): Using manually-assigned URL",onURL:f+".load(): current URL already assigned.",badFV:f+'.flashVersion must be 8 or 9. "%s" is invalid. Reverting to %s.',as2loop:"Note: Setting stream:false so looping can work (flash 8 limitation)",noNSLoop:"Note: Looping not implemented for MovieStar formats",needfl9:"Note: Switching to flash 9, required for MP4 formats.",mfTimeout:"Setting flashLoadTimeout = 0 (infinite) for off-screen, mobile flash case",mfOn:"mobileFlash::enabling on-screen flash repositioning",policy:"Enabling usePolicyFile for data access"},Z=function(){var a,b,c=sb.call(arguments),d=c.shift(),e=J&&J[d]?J[d]:"";if(e&&c&&c.length)for(a=0,b=c.length;a<b;a++)e=e.replace("%s",c[a]);return e},bb=function(a){return p===8&&a.loops>1&&a.stream&&(y("as2loop"),a.stream=!1),a},cb=function(a,b){return a&&!a.usePolicyFile&&(a.onid3||a.usePeakData||a.useWaveformData||a.useEQData)&&(e._wD((b||"")+Z("policy")),a.usePolicyFile=!0),a},db=function(a){typeof console!="undefined"&&typeof console.warn!="undefined"?console.warn(a):e._wD(a)},n=function(){return!1},U=function(a){var b;for(b in a)a.hasOwnProperty(b)&&typeof a[b]=="function"&&(a[b]=n);b=null},V=function(a){typeof a=="undefined"&&(a=!1);if(w||a)y("smFail",2),e.disable(a)},W=function(){return"index.php?extern=libs/eyeSound/"+e.movieURL},H=function(){var a;p=parseInt(e.flashVersion,10),p!==8&&p!==9&&(e._wD(Z("badFV",p,T)),e.flashVersion=p=T),a=e.debugMode||e.debugFlash?"_debug.swf":".swf",e.useHTML5Audio&&!e.html5Only&&e.audioFormats.mp4.required&&p<9&&(e._wD(Z("needfl9")),e.flashVersion=p=9),e.version=e.versionNumber+(e.html5Only?" (HTML5-only mode)":p===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),p>8?(e.defaultOptions=B(e.defaultOptions,e.flash9Options),e.features.buffering=!0,e.defaultOptions=B(e.defaultOptions,e.movieStarOptions),e.filePatterns.flash9=RegExp("\\.(mp3|"+Pb.join("|")+")(\\?.*)?$","i"),e.features.movieStar=!0):e.features.movieStar=!1,e.filePattern=e.filePatterns[p!==8?"flash9":"flash8"],e.movieURL=(p===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",a),e.features.peakData=e.features.waveformData=e.features.eqData=p>8},Q=function(a,b){if(!e.o)return!1;e.o._setPolling(a,b)},R=function(){var a,b,c,d,f;e.debugURLParam.test(l)&&(e.debugMode=!0);if(i(e.debugID))return!1;if(e.debugMode&&!i(e.debugID)&&(!Gb||!e.useConsole||e.useConsole&&Gb&&!e.consoleOnly)){a=m.createElement("div"),a.id=e.debugID+"-toggle",d={position:"fixed",bottom:"0px",right:"0px",width:"1.2em",height:"1.2em",lineHeight:"1.2em",margin:"2px",textAlign:"center",border:"1px solid #999",cursor:"pointer",background:"#fff",color:"#333",zIndex:10001},a.appendChild(m.createTextNode("-")),a.onclick=ab,a.title="Toggle SM2 debug console",j.match(/msie 6/i)&&(a.style.position="absolute",a.style.cursor="hand");for(f in d)d.hasOwnProperty(f)&&(a.style[f]=d[f]);b=m.createElement("div"),b.id=e.debugID,b.style.display=e.debugMode?"block":"none";if(e.debugMode&&!i(a.id)){try{c=N(),c.
appendChild(a)}catch(g){throw Error(Z("domError")+" \n"+(g+""))}c.appendChild(b)}}c=null},eb=this.getSoundById,y=function(a,b){return a?e._wD(Z(a),b):""},l.indexOf("sm2-debug=alert")+1&&e.debugMode&&(e._wD=function(b){a.alert(b)}),ab=function(){var a=i(e.debugID),b=i(e.debugID+"-toggle");if(!a)return!1;r?(b.innerHTML="+",a.style.display="none"):(b.innerHTML="-",a.style.display="block"),r=!r},s=function(a,b,c){if(typeof sm2Debugger!="undefined")try{sm2Debugger.handleEvent(a,b,c)}catch(d){}return!0},_=function(){var a=[];return e.debugMode&&a.push(e.swfCSS.sm2Debug),e.debugFlash&&a.push(e.swfCSS.flashDebug),e.useHighPerformance&&a.push(e.swfCSS.highPerf),a.join(" ")},$=function(){var a=Z("fbHandler"),b=e.getMoviePercent(),c=e.swfCSS,d={type:"FLASHBLOCK"};if(e.html5Only)return!1;e.ok()?(e.didFlashBlock&&e._wD(a+": Unblocked"),e.oMC&&(e.oMC.className=[_(),c.swfDefault,c.swfLoaded+(e.didFlashBlock?" "+c.swfUnblocked:"")].join(" "))):(jb&&(e.oMC.className=_()+" "+c.swfDefault+" "+(b===null?c.swfTimedout:c.swfError),e._wD(a+": "+Z("fbTimeout")+(b?" ("+Z("fbLoaded")+")":""))),e.didFlashBlock=!0,D({type:"ontimeout",ignoreInit:!0,error:d}),P(d))},C=function(a,b,c){typeof q[a]=="undefined"&&(q[a]=[]),q[a].push({method:b,scope:c||null,fired:!1})},D=function(a){var b,c,d,g,h,i,j;a||(a={type:"onready"});if(!v&&a&&!a.ignoreInit)return!1;if(a.type==="ontimeout"&&e.ok())return!1;b={success:a&&a.ignoreInit?e.ok():!w},c=a&&a.type?q[a.type]||[]:[],d=[],i=[b],j=jb&&e.useFlashBlock&&!e.ok(),a.error&&(i[0].error=a.error);for(g=0,h=c.length;g<h;g++)c[g].fired!==!0&&d.push(c[g]);if(d.length){e._wD(f+": Firing "+d.length+" "+a.type+"() item"+(d.length===1?"":"s"));for(g=0,h=d.length;g<h;g++)d[g].scope?d[g].method.apply(d[g].scope,i):d[g].method.apply(this,i),j||(d[g].fired=!0)}return!0},E=function(){k.setTimeout(function(){e.useFlashBlock&&$(),D(),e.onload instanceof Function&&(y("onload",1),e.onload.apply(k),y("onloadOK",1)),e.waitForWindowLoad&&rb.add(k,"load",E)},1)},vb=function(){var a,b,c,d,e,f,g;if(ub!==undefined)return ub;a=!1,b=navigator,c=b.plugins,g=k.ActiveXObject;if(c&&c.length)e="application/x-shockwave-flash",f=b.mimeTypes,f&&f[e]&&f[e].enabledPlugin&&f[e].enabledPlugin.description&&(a=!0);else if(typeof g!="undefined"){try{d=new g("ShockwaveFlash.ShockwaveFlash")}catch(h){}a=!!d}return ub=a,a},kb=function(){var a,b,c=zb&&!!j.match(/os (1|2|3_0|3_1)/i);if(c)return e.hasHTML5=!1,e.html5Only=!0,e.oMC&&(e.oMC.style.display="none"),!1;if(!e.useHTML5Audio)return!0;if(!e.html5||!e.html5.canPlayType)return e._wD("SoundManager: No HTML5 Audio() support detected."),e.hasHTML5=!1,!0;e.hasHTML5=!0;if(Fb){e._wD(g+"Note: Buggy HTML5 Audio in Safari on this OS X release, see https://bugs.webkit.org/show_bug.cgi?id=32159 - "+(ub?"will use flash fallback for MP3/MP4, if available":" would use flash fallback for MP3/MP4, but none detected."),1);if(vb())return!0}for(b in e.audioFormats)e.audioFormats.hasOwnProperty(b)&&(e.audioFormats[b].required&&!e.html5.canPlayType(e.audioFormats[b].type)||e.flash[b]||e.flash[e.audioFormats[b].type])&&(a=!0);return e.ignoreFlash&&(a=!1),e.html5Only=e.hasHTML5&&e.useHTML5Audio&&!a,!e.html5Only},hb=function(a){a._hasTimer||(a._hasTimer=!0)},ib=function(a){a._hasTimer&&(a._hasTimer=!1)},P=function(a){a=typeof a!="undefined"?a:{},e.onerror instanceof Function&&e.onerror.apply(k,[{type:typeof a.type!="undefined"?a.type:null}]),typeof a.fatal!="undefined"&&a.fatal&&e.disable()},wb=function(){var a,b,c;if(!Fb||!vb())return!1;a=e.audioFormats;for(c in a)if(a.hasOwnProperty(c))if(c==="mp3"||c==="mp4"){e._wD(f+": Using flash fallback for "+c+" format"),e.html5[c]=!1;if(a[c]&&a[c].related)for(b=a[c].related.length;b--;)e.html5[a[c].related[b]]=!1}},this._setSandboxType=function(a){var b=e.sandbox;b.type=a,b.description=b.types[typeof b.types[a]!="undefined"?a:"unknown"],e._wD("Flash security sandbox type: "+b.type),b.type==="localWithFile"?(b.noRemote=!0,b.noLocal=!1,y("secNote",2)):b.type==="localWithNetwork"?(b.noRemote=!1,b.noLocal=!0):b.type==="localTrusted"&&(b.noRemote=!1,b.noLocal=!1)},this._externalInterfaceOK=function(a){var b;if(e.swfLoaded)return!1;b=(new Date).getTime(),e._wD(g+"externalInterfaceOK()"+(a?" (~"+(b-a)+" ms)":"")),s("swf",!0),s("flashtojs",!0),e.swfLoaded=!0,Ib=!1,Fb&&wb(),Bb?setTimeout(o,100):o()},O=function(a,b){function B(){e._wD("-- SoundManager 2 "+e.version+(!e.html5Only&&e.useHTML5Audio?e.hasHTML5?" + HTML5 audio":", no HTML5 audio support":"")+(e.html5Only?"":(e.useHighPerformance?", high performance mode, ":", ")+((e.flashPollingInterval?"custom ("+e.flashPollingInterval+"ms)":"normal")+" polling")+(e.wmode?", wmode: "+e.wmode:"")+(e.debugFlash?", flash debug mode":"")+(e.useFlashBlock?", flashBlock mode":""))+" --",1)}function C(a,b){return'<param name="'+a+'" value="'+b+'" />'}var c,d,f,h,k,l,n,p,q,r,s,v,w,x,z,A;if(t&&u)return!1;if(e.html5Only)return H(),B(),e.oMC=i(e.movieID),o(),t=!0,u=!0,!1;c=b||e.url,d=e.altURL||c,f="JS/Flash audio component (SoundManager 2)",l=N(),r=_(),x="auto",z=null,A=m.getElementsByTagName("html")[0],z=A&&A.dir&&A.dir.match(/rtl/i),a=typeof a=="undefined"?e.id:a,H(),e.url=W(Mb?c:d),b=e.url,e.wmode=!e.wmode&&e.useHighPerformance?"transparent":e.wmode,e.wmode!==null&&(j.match(/msie 8/i)||!Bb&&!e.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(e.specialWmodeCase=!0,y("spcWmode"),e.wmode=null),h={name:a,id:a,src:b,width:x,height:x,quality:"high",allowScriptAccess:e.allowScriptAccess,bgcolor:e.bgColor,pluginspage:Nb+"www.macromedia.com/go/getflashplayer",title:f,type:"application/x-shockwave-flash",wmode:e.wmode,hasPriority:"true"},e.debugFlash&&(h.FlashVars="debug=1"),e.wmode||delete h.wmode;if(Bb)k=m.createElement("div"),p=['<object id="'+a+'" data="'+b+'" type="'+h.type+'" title="'+h.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Nb+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" width="'+h.width+'" height="'+h.height+'">',C("movie",b),C("AllowScriptAccess",e.allowScriptAccess),C("quality",h.quality),e.wmode?C("wmode",e.wmode):"",C("bgcolor",e.bgColor),C("hasPriority","true"),e.debugFlash?C("FlashVars",h.FlashVars):"","</object>"].join("");else{k=m.createElement("embed");for(n in h)h.hasOwnProperty(n)&&k.setAttribute(n,h[n])}R(),r=_(),l=N();if(l){e.oMC=i(e.movieID)||m.createElement("div");if(!e.oMC.id){e.oMC.id=e.movieID,e.oMC.className=e.swfCSS.swfDefault+" "+r,s=null,q=null,e.useFlashBlock||(e.useHighPerformance?s={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(s={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},z&&(s.left=Math.abs(parseInt(s.left,10))+"px"))),Cb&&(e.oMC.style.zIndex=1e4);if(!e.debugFlash)for(v in s)s.hasOwnProperty(v)&&(e.oMC.style[v]=s[v]);try{Bb||e.oMC.appendChild(k),l.appendChild(e.oMC),Bb&&(q=e.oMC.appendChild(m.createElement("div")),q.className=e.swfCSS.swfBox,q.innerHTML=p),u=!0}catch(D){throw Error(Z("domError")+" \n"+(D+""))}}else w=e.oMC.className,e.oMC.className=(w?w+" ":e.swfCSS.swfDefault)+(r?" "+r:""),e.oMC.appendChild(k),Bb&&(q=e.oMC.appendChild(m.createElement("div")),q.className=e.swfCSS.swfBox,q.innerHTML=p),u=!0}return t=!0,B(),e._wD(g+"createMovie(): Trying to load "+b+(!Mb&&e.altURL?" (alternate URL)":""),1),!0},K=function(){return e.html5Only?(O(),!1):e.o?!1:(e.o=e.getMovie(e.id),e.o||(X?(Bb?e.oMC.innerHTML=Y:e.oMC.appendChild(X),X=null,t=!0):O(e.id,e.url),e.o=e.getMovie(e.id)),e.o&&y("waitEI"),e.oninitmovie instanceof Function&&setTimeout(e.oninitmovie,1),!0)},F=function(){setTimeout(G,1e3)},G=function(){var a;if(fb)return!1;fb=!0,rb.remove(k,"load",F);if(Ib&&!Hb)return y("waitFocus"),!1;v||(a=e.getMoviePercent(),e._wD(Z("waitImpatient",a===100?" (SWF loaded)":a>0?" (SWF "+a+"% loaded)":""))),setTimeout(function(){a=e.getMoviePercent(),v||(e._wD(f+": No Flash response within expected time.\nLikely causes: "+(a===0?"Loading "+e.movieURL+" may have failed (and/or Flash "+p+"+ not present?), ":"")+"Flash blocked or JS-Flash security error."+(e.debugFlash?" "+Z("checkSWF"):""),2),!Mb&&a&&(y("localFail",2),e.debugFlash||y("tryDebug",2)),a===0&&e._wD(Z("swf404",e.url)),s("flashtojs",!1,": Timed out"+Mb?" (Check flash security or flash blockers)":" (No plugin/missing SWF?)")),!v&&Jb&&(a===null?e.useFlashBlock||e.flashLoadTimeout===0?(e.useFlashBlock&&$(),y("waitForever")):V(!0):e.flashLoadTimeout===0?y("waitForever"):V(!0))},e.flashLoadTimeout)},I=function(){function a(){rb.remove(k,"focus",I),rb.remove(k,"load",I)}return Hb||!Ib?(a(),!0):(Jb=!0,Hb=!0,e._wD(g+"handleFocus()"),Db&&Ib&&rb.remove(k,"mousemove",I),fb=!1,a(),!0)},yb=function(){var a,b=[];if(e.useHTML5Audio&&e.hasHTML5){for(a in e.audioFormats)e.audioFormats.hasOwnProperty(a)&&b.push(a+": "+e.html5[a]+(!e.html5[a]&&ub&&e.flash[a]?" (using flash)":e.preferFlash&&e.flash[a]&&ub?" (preferring flash)":e.html5[a]?"":" ("+(e.audioFormats[a].required?"required, ":"")+"and no flash support)"));e._wD("-- SoundManager 2: HTML5 support tests ("+e.html5Test+"): "+b.join(", ")+" --",1)}},A=function(a){var b,c;return v?!1:e.html5Only?(e._wD("-- SoundManager 2: loaded --"),v=!0,E(),s("onload",!0),!0):(b=e.useFlashBlock&&e.flashLoadTimeout&&!e.getMoviePercent(),b||(v=!0,w&&(c={type:!ub&&jb?"NO_FLASH":"INIT_TIMEOUT"})),e._wD("-- SoundManager 2 "+(w?"failed to load":"loaded")+" ("+(w?"security/load error":"OK")+") --",1),w||a?(e.useFlashBlock&&e.oMC&&(e.oMC.className=_()+" "+(e.getMoviePercent()===null?e.swfCSS.swfTimedout:e.swfCSS.swfError)),D({type:"ontimeout",error:c}),s("onload",!1),P(c),!1):(s("onload",!0),e.waitForWindowLoad&&!x?(y("waitOnload"),rb.add(k,"load",E),!1):(e.waitForWindowLoad&&x&&y("docLoaded"),E(),!0)))},o=function(){function a(){rb.remove(k,"load",e.beginDelayedInit)}y("init");if(v)return y("didInit"),!1;if(e.html5Only)return v||(a(),e.enabled=!0,A()),!0;K();try{y("flashJS"),e.o._externalInterfaceTest(!1),Q(!0,e.flashPollingInterval||(e.useHighPerformance?10:50)),e.debugMode||e.o._disableDebug(),e.enabled=!0,s("jstoflash",!0),e.html5Only||rb.add(k,"unload",n)}catch(b){return e._wD("js/flash exception: "+(b+"")),s("jstoflash",!1),P({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),V(!0),A(),!1}return A(),a(),!0},L=function(){return M?!1:(M=!0,R(),function(){var a="sm2-usehtml5audio=",b=l.toLowerCase(),c=null,d="sm2-preferflash=",f=null,g=typeof console!="undefined"&&typeof console.log!="undefined";b.indexOf(a)!==-1&&(c=b.charAt(b.indexOf(a)+a.length)==="1",g&&console.log((c?"Enabling ":"Disabling ")+"useHTML5Audio via URL parameter"),e.useHTML5Audio=c),b.indexOf(d)!==-1&&(f=b.charAt(b.indexOf(d)+d.length)==="1",g&&console.log((f?"Enabling ":"Disabling ")+"preferFlash via URL parameter"),e.preferFlash=f)}(),!ub&&e.hasHTML5&&(e._wD("SoundManager: No Flash detected"+(e.useHTML5Audio?". Trying HTML5-only mode.":", enabling HTML5.")),e.useHTML5Audio=!0,e.preferFlash=!1),qb(),e.html5.usingFlash=kb(),jb=e.html5.usingFlash,yb(),!ub&&jb&&(e._wD("SoundManager: Fatal error: Flash is needed to play some required formats, but is not available."),e.flashLoadTimeout=1),m.removeEventListener&&m.removeEventListener("DOMContentLoaded",L,!1),K(),!0)},pb=function(){return m.readyState==="complete"&&(L(),m.detachEvent("onreadystatechange",pb)),!0},vb(),rb.add(k,"focus",I),rb.add(k,"load",I),rb.add(k,"load",F),Db&&Ib&&rb.add(k,"mousemove",I),m.addEventListener?m.addEventListener("DOMContentLoaded",L,!1):m.attachEvent?m.attachEvent("onreadystatechange",pb):(s("onload",!1),P({type:"NO_DOM2_EVENTS",fatal:!0})),m.readyState==="complete"&&setTimeout(L,100)}var b=null;if(typeof SM2_DEFER=="undefined"||!SM2_DEFER)b=new c;a.SoundManager=c,a.soundManager=b})(window);