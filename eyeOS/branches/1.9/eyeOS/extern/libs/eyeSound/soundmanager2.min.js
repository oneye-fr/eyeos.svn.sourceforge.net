(function(a){function c(b,c){function Ob(a){return function(b){return!this._t||!this._t._a?null:a.call(this,b)}}var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb;this.flashVersion=8,this.debugMode=!1,this.debugFlash=!1,this.useConsole=!0,this.consoleOnly=!1,this.waitForWindowLoad=!1,this.bgColor="#ffffff",this.useHighPerformance=!1,this.flashPollingInterval=null,this.flashLoadTimeout=1e3,this.wmode=null,this.allowScriptAccess="always",this.useFlashBlock=!1,navigator.appName=="Microsoft Internet Explorer"?this.preferFlash=!0:this.preferFlash=!1,this.useHTML5Audio=!0,this.html5Test=/^(probably|maybe)$/i,this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.defaultOptions={autoLoad:!1,stream:!0,autoPlay:!1,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.movieID="sm2-container",this.id=c||"sm2movie",this.swfCSS={swfBox:"sm2-object-box",swfDefault:"movieContainer",swfError:"swf_error",swfTimedout:"swf_timedout",swfLoaded:"swf_loaded",swfUnblocked:"swf_unblocked",sm2Debug:"sm2_debug",highPerf:"high_performance",flashDebug:"flash_debug"},this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20110918",this.version=null,this.movieURL=null,this.url=b||null,this.altURL=null,this.swfLoaded=!1,this.enabled=!1,this.o=null,this.oMC=null,this.sounds={},this.soundIDs=[],this.muted=!1,this.specialWmodeCase=!1,this.didFlashBlock=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.hasHTML5=typeof Audio!="undefined"&&typeof (new Audio).canPlayType!="undefined",this.html5={usingFlash:null},this.flash={},this.html5Only=!1,this.ignoreFlash=!1,e=this,f="soundManager",g=f+"::",h="HTML5::",j=navigator.userAgent,k=a,l=k.location.href+"",m=document,q=[],r=!0,s=!1,t=!1,u=!1,v=!1,w=!1,x=0,Q=["log","info","warn","error"],R=8,V=null,W=null,cb=!1,db=!1,gb=null,pb=Array.prototype.slice,qb=!1,wb=j.match(/(ipad|iphone|ipod)/i),xb=j.match(/(mobile|pre\/|xoom)/i)||wb,yb=j.match(/msie/i),zb=j.match(/webkit/i),Ab=j.match(/safari/i)&&!j.match(/chrome/i),Bb=j.match(/opera/i),Cb=!l.match(/usehtml5audio/i)&&!l.match(/sm2\-ignorebadua/i)&&Ab&&j.match(/OS X 10_6_([3-7])/i),Db=typeof console!="undefined"&&typeof console.log!="undefined",Eb=typeof m.hasFocus!="undefined"?m.hasFocus():null,Fb=Ab&&typeof m.hasFocus=="undefined",Gb=!Fb,Hb=/(mp3|mp4|mpa)/i,Ib="about:blank",Jb=m.location?m.location.protocol.match(/http/i):null,Kb=Jb?"":"http://",Lb=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|mp4v|3gp|3g2)\s*(?:$|;)/i,Mb=["mpeg4","aac","flv","mov","mp4","m4v","f4v","m4a","mp4v","3gp","3g2"],Nb=RegExp("\\.("+Mb.join("|")+")(\\?.*)?$","i"),this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!Jb,this._global_a=null,xb&&(e.useHTML5Audio=!0,e.preferFlash=!1,wb&&(e.ignoreFlash=!0,qb=!0)),this.ok=function(){return gb?u&&!v:e.useHTML5Audio&&e.hasHTML5},this.supported=this.ok,this.getMovie=function(a){return i(a)||m[a]||k[a]},this.createSound=function(a){function i(){return c=$(c),e.sounds[h.id]=new d(h),e.soundIDs.push(h.id),e.sounds[h.id]}var b=f+".createSound(): ",c=null,g=null,h=null;return!u||!e.ok()?(ab(b+X(u?"notOK":"notReady")),!1):(arguments.length===2&&(a={id:arguments[0],url:arguments[1]}),c=z(a),h=c,bb(h.id,!0)?e.sounds[h.id]:(ib(h)?(g=i(),g._setup_html5(h)):(p>8&&(h.isMovieStar===null&&(h.isMovieStar=h.serverURL||(h.type?h.type.match(Lb):!1)||h.url.match(Nb)),h.isMovieStar&&h.usePeakData&&(h.usePeakData=!1)),h=_(h,b),g=i(),p===8?e.o._createSound(h.id,h.loops||1,h.usePolicyFile):(e.o._createSound(h.id,h.url,h.usePeakData,h.useWaveformData,h.useEQData,h.isMovieStar,h.isMovieStar?h.bufferTime:!1,h.loops||1,h.serverURL,h.duration||null,h.autoPlay,!0,h.autoLoad,h.usePolicyFile),h.serverURL||(g.connected=!0,h.onconnect&&h.onconnect.apply(g))),!h.serverURL&&(h.autoLoad||h.autoPlay)&&g.load(h)),!h.serverURL&&h.autoPlay&&g.play(),g))},this.destroySound=function(a,b){var c,d;if(!bb(a))return!1;c=e.sounds[a],c._iO={},c.stop(),c.unload();for(d=0;d<e.soundIDs.length;d++)if(e.soundIDs[d]===a){e.soundIDs.splice(d,1);break}return b||c.destruct(!0),c=null,delete e.sounds[a],!0},this.load=function(a,b){return bb(a)?e.sounds[a].load(b):!1},this.unload=function(a){return bb(a)?e.sounds[a].unload():!1},this.onposition=function(a,b,c,d){return bb(a)?e.sounds[a].onposition(b,c,d):!1},this.play=function(a,b){var c=f+".play(): ";return!u||!e.ok()?(ab(c+X(u?"notOK":"notReady")),!1):bb(a)?e.sounds[a].play(b):(b instanceof Object||(b={url:b}),b&&b.url?(b.id=a,e.createSound(b).play()):!1)},this.start=this.play,this.setPosition=function(a,b){return bb(a)?e.sounds[a].setPosition(b):!1},this.stop=function(a){return bb(a)?e.sounds[a].stop():!1},this.stopAll=function(){var a;for(a in e.sounds)e.sounds.hasOwnProperty(a)&&e.sounds[a].stop()},this.pause=function(a){return bb(a)?e.sounds[a].pause():!1},this.pauseAll=function(){var a;for(a=e.soundIDs.length;a--;)e.sounds[e.soundIDs[a]].pause()},this.resume=function(a){return bb(a)?e.sounds[a].resume():!1},this.resumeAll=function(){var a;for(a=e.soundIDs.length;a--;)e.sounds[e.soundIDs[a]].resume()},this.togglePause=function(a){return bb(a)?e.sounds[a].togglePause():!1},this.setPan=function(a,b){return bb(a)?e.sounds[a].setPan(b):!1},this.setVolume=function(a,b){return bb(a)?e.sounds[a].setVolume(b):!1},this.mute=function(a){var b=f+".mute(): ",c=0;typeof a!="string"&&(a=null);if(!a){for(c=e.soundIDs.length;c--;)e.sounds[e.soundIDs[c]].mute();return e.muted=!0,!0}return bb(a)?e.sounds[a].mute():!1},this.muteAll=function(){e.mute()},this.unmute=function(a){var b,c=f+".unmute(): ";typeof a!="string"&&(a=null);if(!a){for(b=e.soundIDs.length;b--;)e.sounds[e.soundIDs[b]].unmute();return e.muted=!1,!0}return bb(a)?e.sounds[a].unmute():!1},this.unmuteAll=function(){e.unmute()},this.toggleMute=function(a){return bb(a)?e.sounds[a].toggleMute():!1},this.getMemoryUse=function(){var a=0;return e.o&&p!==8&&(a=parseInt(e.o._getMemoryUse(),10)),a},this.disable=function(a){var b;typeof a=="undefined"&&(a=!1);if(v)return!1;v=!0;for(b=e.soundIDs.length;b--;)S(e.sounds[e.soundIDs[b]]);return y(a),ob.remove(k,"load",C),!0},this.canPlayMIME=function(a){var b;return e.hasHTML5&&(b=jb({type:a})),!gb||b?b:a?!!((p>8?a.match(Lb):null)||a.match(e.mimePattern)):null},this.canPlayURL=function(a){var b;return e.hasHTML5&&(b=jb({url:a})),!gb||b?b:a?!!a.match(e.filePattern):null},this.canPlayLink=function(a){return typeof a.type!="undefined"&&a.type&&e.canPlayMIME(a.type)?!0:e.canPlayURL(a.href)},this.getSoundById=function(a){var b;if(!a)throw Error(f+".getSoundById(): sID is null/undefined");return b=e.sounds[a],b},this.onready=function(a,b){var c="onready";if(a&&a instanceof Function)return b||(b=k),A(c,a,b),B(),!0;throw X("needFunction",c)},this.ontimeout=function(a,b){var c="ontimeout";if(a&&a instanceof Function)return b||(b=k),A(c,a,b),B({type:c}),!0;throw X("needFunction",c)},this._writeDebug=function(){return!0},this._wD=this._writeDebug,this._debug=function(){},this.reboot=function(){var a,b;for(a=e.soundIDs.length;a--;)e.sounds[e.soundIDs[a]].destruct();try{yb&&(W=e.o.innerHTML),V=e.o.parentNode.removeChild(e.o)}catch(c){}W=V=gb=null,e.enabled=K=u=cb=db=s=t=v=e.swfLoaded=!1,e.soundIDs=e.sounds=[],e.o=null;for(a in q)if(q.hasOwnProperty(a))for(b=q[a].length;b--;)q[a][b].fired=!1;k.setTimeout(e.beginDelayedInit,20)},this.getMoviePercent=function(){return e.o&&typeof e.o.PercentLoaded!="undefined"?e.o.PercentLoaded():null},this.beginDelayedInit=function(){w=!0,J(),setTimeout(function(){return db?!1:(M(),I(),db=!0,!0)},20),D()},this.destruct=function(){e.disable(!0)},d=function(a){var b,c,d,f=this;this.sID=a.id,this.url=a.url,this.options=z(a),this.instanceOptions=this.options,this._iO=this.instanceOptions,this.pan=this.options.pan,this.volume=this.options.volume,this._lastURL=null,this.isHTML5=!1,this._a=null,this.id3={},this._debug=function(){},this.load=function(a){var b=null;typeof a!="undefined"?(f._iO=z(a,f.options),f.instanceOptions=f._iO):(a=f.options,f._iO=a,f.instanceOptions=f._iO,f._lastURL&&f._lastURL!==f.url&&(f._iO.url=f.url,f.url=null)),f._iO.url||(f._iO.url=f.url);if(f._iO.url===f.url&&f.readyState!==0&&f.readyState!==2)return f;f._lastURL=f.url,f.loaded=!1,f.readyState=1,f.playState=0;if(ib(f._iO))b=f._setup_html5(f._iO),b._called_load||(f._html5_canplay=!1,b.load(),b._called_load=!0,f._iO.autoPlay&&f.play());else try{f.isHTML5=!1,f._iO=_($(f._iO)),p===8?e.o._load(f.sID,f._iO.url,f._iO.stream,f._iO.autoPlay,f._iO.whileloading?1:0,f._iO.loops||1,f._iO.usePolicyFile):e.o._load(f.sID,f._iO.url,!!f._iO.stream,!!f._iO.autoPlay,f._iO.loops||1,!!f._iO.autoLoad,f._iO.usePolicyFile)}catch(c){N({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}return f},this.unload=function(){return f.readyState!==0&&(f.isHTML5?(c(),f._a&&(f._a.pause(),lb(f._a))):p===8?e.o._unload(f.sID,Ib):e.o._unload(f.sID),b()),f},this.destruct=function(a){f.isHTML5?(c(),f._a&&(f._a.pause(),lb(f._a),qb||f._remove_html5_events(),f._a._t=null,f._a=null)):(f._iO.onfailure=null,e.o._destroySound(f.sID)),a||e.destroySound(f.sID,!0)},this.play=function(a,b){var c,g,h="SMSound.play(): ";b=b===undefined?!0:b,a||(a={}),f._iO=z(a,f._iO),f._iO=z(f._iO,f.options),f.instanceOptions=f._iO;if(f._iO.serverURL&&!f.connected)return f.getAutoPlay()||f.setAutoPlay(!0),f;ib(f._iO)&&(f._setup_html5(f._iO),d());if(f.playState===1&&!f.paused){c=f._iO.multiShot;if(!c)return f}if(!f.loaded)if(f.readyState===0)f.isHTML5||(f._iO.autoPlay=!0),f.load(f._iO);else if(f.readyState===2)return f;return!f.isHTML5&&p===9&&f.position>0&&f.position===f.duration&&(f._iO.position=0),f.paused&&f.position&&f.position>0?f.resume():(f.playState=1,f.paused=!1,(!f.instanceCount||f._iO.multiShotEvents||!f.isHTML5&&p>8&&!f.getAutoPlay())&&f.instanceCount++,f.position=typeof f._iO.position!="undefined"&&!isNaN(f._iO.position)?f._iO.position:0,f.isHTML5||(f._iO=_($(f._iO))),f._iO.onplay&&b&&(f._iO.onplay.apply(f),f._onplay_called=!0),f.setVolume(f._iO.volume,!0),f.setPan(f._iO.pan,!0),f.isHTML5?(d(),g=f._setup_html5(),f.setPosition(f._iO.position),g.play()):e.o._start(f.sID,f._iO.loops||1,p===9?f._iO.position:f._iO.position/1e3)),f},this.start=this.play,this.stop=function(a){return f.playState===1&&(f._onbufferchange(0),f.resetOnPosition(0),f.paused=!1,f.isHTML5||(f.playState=0),f._iO.onstop&&f._iO.onstop.apply(f),f.isHTML5?f._a&&(f.setPosition(0),f._a.pause(),f.playState=0,f._onTimer(),c()):(e.o._stop(f.sID,a),f._iO.serverURL&&f.unload()),f.instanceCount=0,f._iO={}),f},this.setAutoPlay=function(a){f._iO.autoPlay=a,f.isHTML5||(e.o._setAutoPlay(f.sID,a),a&&!f.instanceCount&&f.readyState===1&&f.instanceCount++)},this.getAutoPlay=function(){return f._iO.autoPlay},this.setPosition=function(a){var b,c,d,g;a===undefined&&(a=0),g=f.isHTML5?Math.max(a,0):Math.min(f.duration||f._iO.duration,Math.max(a,0)),b=f.position,f.position=g,d=f.position/1e3,f.resetOnPosition(f.position),f._iO.position=g;if(!f.isHTML5)c=p===9?f.position:d,f.readyState&&f.readyState!==2&&e.o._setPosition(f.sID,c,f.paused||!f.playState);else if(f._a&&f._html5_canplay&&f._a.currentTime!==d)try{f._a.currentTime=d,(f.playState===0||f.paused)&&f._a.pause()}catch(h){}return f.isHTML5&&f.paused&&f._onTimer(!0),f},this.pause=function(a){return f.paused||f.playState===0&&f.readyState!==1?f:(f.paused=!0,f.isHTML5?(f._setup_html5().pause(),c()):(a||a===undefined)&&e.o._pause(f.sID),f._iO.onpause&&f._iO.onpause.apply(f),f)},this.resume=function(){return f.paused?(f.paused=!1,f.playState=1,f.isHTML5?(f._setup_html5().play(),d()):(f._iO.isMovieStar&&f.setPosition(f.position),e.o._pause(f.sID)),!f._onplay_called&&f._iO.onplay?(f._iO.onplay.apply(f),f._onplay_called=!0):f._iO.onresume&&f._iO.onresume.apply(f),f):f},this.togglePause=function(){return f.playState===0?(f.play({position:p===9&&!f.isHTML5?f.position:f.position/1e3}),f):(f.paused?f.resume():f.pause(),f)},this.setPan=function(a,b){return typeof a=="undefined"&&(a=0),typeof b=="undefined"&&(b=!1),f.isHTML5||e.o._setPan(f.sID,a),f._iO.pan=a,b||(f.pan=a,f.options.pan=a),f},this.setVolume=function(a,b){return typeof a=="undefined"&&(a=100),typeof b=="undefined"&&(b=!1),f.isHTML5?f._a&&(f._a.volume=Math.max(0,Math.min(1,a/100))):e.o._setVolume(f.sID,e.muted&&!f.muted||f.muted?0:a),f._iO.volume=a,b||(f.volume=a,f.options.volume=a),f},this.mute=function(){return f.muted=!0,f.isHTML5?f._a&&(f._a.muted=!0):e.o._setVolume(f.sID,0),f},this.unmute=function(){var a;return f.muted=!1,a=typeof f._iO.volume!="undefined",f.isHTML5?f._a&&(f._a.muted=!1):e.o._setVolume(f.sID,a?f._iO.volume:f.options.volume),f},this.toggleMute=function(){return f.muted?f.unmute():f.mute()},this.onposition=function(a,b,c){return f._onPositionItems.push({position:a,method:b,scope:typeof c!="undefined"?c:f,fired:!1}),f},this.processOnPosition=function(){var a,b,c=f._onPositionItems.length;if(!c||!f.playState||f._onPositionFired>=c)return!1;for(a=c;a--;)b=f._onPositionItems[a],!b.fired&&f.position>=b.position&&(b.fired=!0,e._onPositionFired++,b.method.apply(b.scope,[b.position]));return!0},this.resetOnPosition=function(a){var b,c,d=f._onPositionItems.length;if(!d)return!1;for(b=d;b--;)c=f._onPositionItems[b],c.fired&&a<=c.position&&(c.fired=!1,e._onPositionFired--);return!0},d=function(){f.isHTML5&&eb(f)},c=function(){f.isHTML5&&fb(f)},b=function(){f._onPositionItems=[],f._onPositionFired=0,f._hasTimer=null,f._onplay_called=!1,f._a=null,f._html5_canplay=!1,f.bytesLoaded=null,f.bytesTotal=null,f.position=null,f.duration=f._iO&&f._iO.duration?f._iO.duration:null,f.durationEstimate=null,f.failures=0,f.loaded=!1,f.playState=0,f.paused=!1,f.readyState=0,f.muted=!1,f.isBuffering=!1,f.instanceOptions={},f.instanceCount=0,f.peakData={left:0,right:0},f.waveformData={left:[],right:[]},f.eqData=[],f.eqData.left=[],f.eqData.right=[]},b(),this._onTimer=function(a){var b,c={};if(f._hasTimer||a)return f._a&&(a||(f.playState>0||f.readyState===1)&&!f.paused)?(f.duration=f._get_html5_duration(),f.durationEstimate=f.duration,b=f._a.currentTime?f._a.currentTime*1e3:0,f._whileplaying(b,c,c,c,c),!0):!1},this._get_html5_duration=function(){var a=f._a?f._a.duration*1e3:f._iO?f._iO.duration:undefined,b=a&&!isNaN(a)&&a!==Infinity?a:f._iO?f._iO.duration:null;return b},this._setup_html5=function(a){var c=z(f._iO,a),d=decodeURI,g=qb?e._global_a:f._a,h=d(c.url),i=g&&g._t?g._t.instanceOptions:null;if(g){if(g._t&&i.url===c.url&&(!f._lastURL||f._lastURL===i.url))return g;qb&&g._t&&g._t.playState&&c.url!==i.url&&g._t.stop(),b(),g.src=c.url,f.url=c.url,f._lastURL=c.url,g._called_load=!1}else g=new Audio(c.url),g._called_load=!1,qb&&(e._global_a=g);return f.isHTML5=!0,f._a=g,g._t=f,f._add_html5_events(),g.loop=c.loops>1?"loop":"",c.autoLoad||c.autoPlay?(g.autobuffer="auto",g.preload="auto",f.load(),g._called_load=!0):(g.autobuffer=!1,g.preload="none"),g.loop=c.loops>1?"loop":"",g},this._add_html5_events=function(){function b(a,b,c){return f._a?f._a.addEventListener(a,b,c||!1):null}var a;if(f._a._added_events)return!1;f._a._added_events=!0;for(a in ub)ub.hasOwnProperty(a)&&b(a,ub[a]);return!0},this._remove_html5_events=function(){function b(a,b,c){return f._a?f._a.removeEventListener(a,b,c||!1):null}var a;f._a._added_events=!1;for(a in ub)ub.hasOwnProperty(a)&&b(a,ub[a])},this._onload=function(a){var b="SMSound._onload(): ",c=!!a;return f.loaded=c,f.readyState=c?3:2,f._onbufferchange(0),f._iO.onload&&f._iO.onload.apply(f,[c]),!0},this._onbufferchange=function(a){var b="SMSound._onbufferchange()";return f.playState===0?!1:a&&f.isBuffering||!a&&!f.isBuffering?!1:(f.isBuffering=a===1,f._iO.onbufferchange&&f._iO.onbufferchange.apply(f),!0)},this._onfailure=function(a,b,c){f.failures++,f._iO.onfailure&&f.failures===1&&f._iO.onfailure(f,a,b,c)},this._onfinish=function(){var a=f._iO.onfinish;f._onbufferchange(0),f.resetOnPosition(0),f.instanceCount&&(f.instanceCount--,f.instanceCount||(f.playState=0,f.paused=!1,f.instanceCount=0,f.instanceOptions={},f._iO={},c()),(!f.instanceCount||f._iO.multiShotEvents)&&a&&a.apply(f))},this._whileloading=function(a,b,c,d){f.bytesLoaded=a,f.bytesTotal=b,f.duration=Math.floor(c),f.bufferLength=d,f._iO.isMovieStar?(f.durationEstimate=f.duration,f.readyState!==3&&f._iO.whileloading&&f._iO.whileloading.apply(f)):(f._iO.duration?f.durationEstimate=f.duration>f._iO.duration?f.duration:f._iO.duration:f.durationEstimate=parseInt(f.bytesTotal/f.bytesLoaded*f.duration,10),f.durationEstimate===undefined&&(f.durationEstimate=f.duration),f.readyState!==3&&f._iO.whileloading&&f._iO.whileloading.apply(f))},this._whileplaying=function(a,b,c,d,e){var g;return isNaN(a)||a===null?!1:(f.position=a,f.processOnPosition(),!f.isHTML5&&p>8&&(f._iO.usePeakData&&typeof b!="undefined"&&b&&(f.peakData={left:b.leftPeak,right:b.rightPeak}),f._iO.useWaveformData&&typeof c!="undefined"&&c&&(f.waveformData={left:c.split(","),right:d.split(",")}),f._iO.useEQData&&typeof e!="undefined"&&e&&e.leftEQ&&(g=e.leftEQ.split(","),f.eqData=g,f.eqData.left=g,typeof e.rightEQ!="undefined"&&e.rightEQ&&(f.eqData.right=e.rightEQ.split(",")))),f.playState===1&&(!f.isHTML5&&p===8&&!f.position&&f.isBuffering&&f._onbufferchange(0),f._iO.whileplaying&&f._iO.whileplaying.apply(f)),!0)},this._onid3=function(a,b){var c,d,e=[];for(c=0,d=a.length;c<d;c++)e[a[c]]=b[c];f.id3=z(f.id3,e),f._iO.onid3&&f._iO.onid3.apply(f)},this._onconnect=function(a){var b="SMSound._onconnect(): ";a=a===1,f.connected=a,a&&(f.failures=0,bb(f.sID)&&(f.getAutoPlay()?f.play(undefined,f.getAutoPlay()):f._iO.autoLoad&&f.load()),f._iO.onconnect&&f._iO.onconnect.apply(f,[a]))},this._ondataerror=function(){f.playState>0&&f._iO.ondataerror&&f._iO.ondataerror.apply(f)}},L=function(){return m.body||m._docElement||m.getElementsByTagName("div")[0]},i=function(a){return m.getElementById(a)},z=function(a,b){var c,d,f,g={};for(c in a)a.hasOwnProperty(c)&&(g[c]=a[c]);d=typeof b=="undefined"?e.defaultOptions:b;for(f in d)d.hasOwnProperty(f)&&typeof g[f]=="undefined"&&(g[f]=d[f]);return g},ob=function(){function c(b){var c=pb.call(b),d=c.length;return a?(c[1]="on"+c[1],d>3&&c.pop()):d===3&&c.push(!1),c}function d(c,d){var e=c.shift(),f=[b[d]];a?e[f](c[0],c[1]):e[f].apply(e,c)}function e(){d(c(arguments),"add")}function f(){d(c(arguments),"remove")}var a=k.attachEvent,b={add:a?"attachEvent":"addEventListener",remove:a?"detachEvent":"removeEventListener"};return{add:e,remove:f}}(),ub={abort:Ob(function(){}),canplay:Ob(function(){var a;if(this._t._html5_canplay)return!0;this._t._html5_canplay=!0,this._t._onbufferchange(0),a=isNaN(this._t.position)?null:this._t.position/1e3;if(this._t.position&&this.currentTime!==a)try{this.currentTime=a}catch(b){}}),load:Ob(function(){this._t.loaded||(this._t._onbufferchange(0),this._t._whileloading(this._t.bytesTotal,this._t.bytesTotal,this._t._get_html5_duration()),this._t._onload(!0))}),emptied:Ob(function(){}),ended:Ob(function(){this._t._onfinish()}),error:Ob(function(){this._t._onload(!1)}),loadeddata:Ob(function(){var a=this._t,b=a.bytesTotal||1;!a._loaded&&!Ab&&(a.duration=a._get_html5_duration(),a._whileloading(b,b,a._get_html5_duration()),a._onload(!0))}),loadedmetadata:Ob(function(){}),loadstart:Ob(function(){this._t._onbufferchange(1)}),play:Ob(function(){this._t._onbufferchange(0)}),playing:Ob(function(){this._t._onbufferchange(0)}),progress:Ob(function(a){var b,c,d,e,f,g;if(this._t.loaded)return!1;c=0,d=a.type==="progress",e=a.target.buffered,f=a.loaded||0,g=a.total||1;if(e&&e.length){for(b=e.length;b--;)c=e.end(b)-e.start(b);f=c/a.target.duration}isNaN(f)||(this._t._onbufferchange(0),this._t._whileloading(f,g,this._t._get_html5_duration()),f&&g&&f===g&&ub.load.call(this,a))}),ratechange:Ob(function(){}),suspend:Ob(function(a){ub.progress.call(this,a)}),stalled:Ob(function(){}),timeupdate:Ob(function(){this._t._onTimer()}),waiting:Ob(function(){this._t._onbufferchange(1)})},ib=function(a){return!a.serverURL&&(a.type?jb({type:a.type}):jb({url:a.url})||e.html5Only)},lb=function(a){a&&(a.src=j.match(/gecko/i)?"":Ib)},jb=function(a){function j(a){return e.preferFlash&&rb&&!e.ignoreFlash&&typeof e.flash[a]!="undefined"&&e.flash[a]}var b,c,d,f,g,h,i;if(!e.useHTML5Audio||!e.hasHTML5)return!1;b=a.url||null,c=a.type||null,d=e.audioFormats;if(c&&e.html5[c]!=="undefined")return e.html5[c]&&!j(c);if(!kb){kb=[];for(i in d)d.hasOwnProperty(i)&&(kb.push(i),d[i].related&&(kb=kb.concat(d[i].related)));kb=RegExp("\\.("+kb.join("|")+")(\\?.*)?$","i")}h=b?b.toLowerCase().match(kb):null;if(!h||!h.length){if(!c)return!1;g=c.indexOf(";"),h=(g!==-1?c.substr(0,g):c).substr(6)}else h=h[1];return h&&typeof e.html5[h]!="undefined"?e.html5[h]&&!j(h):(c="audio/"+h,f=e.html5.canPlayType({type:c}),e.html5[h]=f,f&&e.html5[c]&&!j(c))},nb=function(){function g(b){var c,d,f,g=!1;if(!a||typeof a.canPlayType!="function")return!1;if(b instanceof Array){for(d=0,f=b.length;d<f&&!g;d++)if(e.html5[b[d]]||a.canPlayType(b[d]).match(e.html5Test))g=!0,e.html5[b[d]]=!0,e.flash[b[d]]=!!(e.preferFlash&&rb&&b[d].match(Hb));return g}return c=a&&typeof a.canPlayType=="function"?a.canPlayType(b):!1,!!c&&!!c.match(e.html5Test)}var a,b,c,d,f;if(!e.useHTML5Audio||typeof Audio=="undefined")return!1;a=typeof Audio!="undefined"?Bb?new Audio(null):new Audio:null,c={},d=e.audioFormats;for(b in d)if(d.hasOwnProperty(b)){c[b]=g(d[b].type),c["audio/"+b]=c[b],e.preferFlash&&!e.ignoreFlash&&b.match(Hb)?e.flash[b]=!0:e.flash[b]=!1;if(d[b]&&d[b].related)for(f=d[b].related.length;f--;)c["audio/"+d[b].related[f]]=c[b],e.html5[d[b].related[f]]=c[b],e.flash[d[b].related[f]]=c[b]}return c.canPlayType=a?g:null,e.html5=z(e.html5,c),!0},H={},X=function(){},$=function(a){return p===8&&a.loops>1&&a.stream&&(a.stream=!1),a},_=function(a){return a&&!a.usePolicyFile&&(a.onid3||a.usePeakData||a.useWaveformData||a.useEQData)&&(a.usePolicyFile=!0),a},ab=function(){},n=function(){return!1},S=function(a){var b;for(b in a)a.hasOwnProperty(b)&&typeof a[b]=="function"&&(a[b]=n);b=null},T=function(a){typeof a=="undefined"&&(a=!1),(v||a)&&e.disable(a)},U=function(){return"index.php?extern=libs/eyeSound/"+e.movieURL},F=function(){var a;p=parseInt(e.flashVersion,10),p!==8&&p!==9&&(e.flashVersion=p=R),a=e.debugMode||e.debugFlash?"_debug.swf":".swf",e.useHTML5Audio&&!e.html5Only&&e.audioFormats.mp4.required&&p<9&&(e.flashVersion=p=9),e.version=e.versionNumber+(e.html5Only?" (HTML5-only mode)":p===9?" (AS3/Flash 9)":" (AS2/Flash 8)"),p>8?(e.defaultOptions=z(e.defaultOptions,e.flash9Options),e.features.buffering=!0,e.defaultOptions=z(e.defaultOptions,e.movieStarOptions),e.filePatterns.flash9=RegExp("\\.(mp3|"+Mb.join("|")+")(\\?.*)?$","i"),e.features.movieStar=!0):e.features.movieStar=!1,e.filePattern=e.filePatterns[p!==8?"flash9":"flash8"],e.movieURL=(p===8?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",a),e.features.peakData=e.features.waveformData=e.features.eqData=p>8},O=function(a,b){if(!e.o)return!1;e.o._setPolling(a,b)},P=function(){e.debugURLParam.test(l)&&(e.debugMode=!0)},bb=this.getSoundById,Z=function(){var a=[];return e.debugMode&&a.push(e.swfCSS.sm2Debug),e.debugFlash&&a.push(e.swfCSS.flashDebug),e.useHighPerformance&&a.push(e.swfCSS.highPerf),a.join(" ")},Y=function(){var a=X("fbHandler"),b=e.getMoviePercent(),c=e.swfCSS,d={type:"FLASHBLOCK"};if(e.html5Only)return!1;e.ok()?(!e.didFlashBlock,e.oMC&&(e.oMC.className=[Z(),c.swfDefault,c.swfLoaded+(e.didFlashBlock?" "+c.swfUnblocked:"")].join(" "))):(gb&&(e.oMC.className=Z()+" "+c.swfDefault+" "+(b===null?c.swfTimedout:c.swfError)),e.didFlashBlock=!0,B({type:"ontimeout",ignoreInit:!0,error:d}),N(d))},A=function(a,b,c){typeof q[a]=="undefined"&&(q[a]=[]),q[a].push({method:b,scope:c||null,fired:!1})},B=function(a){var b,c,d,f,g,h,i;a||(a={type:"onready"});if(!u&&a&&!a.ignoreInit)return!1;if(a.type==="ontimeout"&&e.ok())return!1;b={success:a&&a.ignoreInit?e.ok():!v},c=a&&a.type?q[a.type]||[]:[],d=[],h=[b],i=gb&&e.useFlashBlock&&!e.ok(),a.error&&(h[0].error=a.error);for(f=0,g=c.length;f<g;f++)c[f].fired!==!0&&d.push(c[f]);if(d.length)for(f=0,g=d.length;f<g;f++)d[f].scope?d[f].method.apply(d[f].scope,h):d[f].method.apply(this,h),i||(d[f].fired=!0);return!0},C=function(){k.setTimeout(function(){e.useFlashBlock&&Y(),B(),e.onload instanceof Function&&e.onload.apply(k),e.waitForWindowLoad&&ob.add(k,"load",C)},1)},sb=function(){var a,b,c,d,e,f,g;if(rb!==undefined)return rb;a=!1,b=navigator,c=b.plugins,g=k.ActiveXObject;if(c&&c.length)e="application/x-shockwave-flash",f=b.mimeTypes,f&&f[e]&&f[e].enabledPlugin&&f[e].enabledPlugin.description&&(a=!0);else if(typeof g!="undefined"){try{d=new g("ShockwaveFlash.ShockwaveFlash")}catch(h){}a=!!d}return rb=a,a},hb=function(){var a,b,c=wb&&!!j.match(/os (1|2|3_0|3_1)/i);if(c)return e.hasHTML5=!1,e.html5Only=!0,e.oMC&&(e.oMC.style.display="none"),!1;if(!e.useHTML5Audio)return!0;if(!e.html5||!e.html5.canPlayType)return e.hasHTML5=!1,!0;e.hasHTML5=!0;if(Cb&&sb())return!0;for(b in e.audioFormats)e.audioFormats.hasOwnProperty(b)&&(e.audioFormats[b].required&&!e.html5.canPlayType(e.audioFormats[b].type)||e.flash[b]||e.flash[e.audioFormats[b].type])&&(a=!0);return e.ignoreFlash&&(a=!1),e.html5Only=e.hasHTML5&&e.useHTML5Audio&&!a,!e.html5Only},eb=function(a){a._hasTimer||(a._hasTimer=!0)},fb=function(a){a._hasTimer&&(a._hasTimer=!1)},N=function(a){a=typeof a!="undefined"?a:{},e.onerror instanceof Function&&e.onerror.apply(k,[{type:typeof a.type!="undefined"?a.type:null}]),typeof a.fatal!="undefined"&&a.fatal&&e.disable()},tb=function(){var a,b,c;if(!Cb||!sb())return!1;a=e.audioFormats;for(c in a)if(a.hasOwnProperty(c))if(c==="mp3"||c==="mp4"){e.html5[c]=!1;if(a[c]&&a[c].related)for(b=a[c].related.length;b--;)e.html5[a[c].related[b]]=!1}},this._setSandboxType=function(){},this._externalInterfaceOK=function(){var a;if(e.swfLoaded)return!1;a=(new Date).getTime(),e.swfLoaded=!0,Fb=!1,Cb&&tb(),yb?setTimeout(o,100):o()},M=function(a,b){function z(){}function A(a,b){return'<param name="'+a+'" value="'+b+'" />'}var c,d,f,g,h,k,l,n,p,q,r,u,v,w,x,y;if(s&&t)return!1;if(e.html5Only)return F(),z(),e.oMC=i(e.movieID),o(),s=!0,t=!0,!1;c=b||e.url,d=e.altURL||c,f="JS/Flash audio component (SoundManager 2)",k=L(),q=Z(),w="auto",x=null,y=m.getElementsByTagName("html")[0],x=y&&y.dir&&y.dir.match(/rtl/i),a=typeof a=="undefined"?e.id:a,F(),e.url=U(Jb?c:d),b=e.url,e.wmode=!e.wmode&&e.useHighPerformance?"transparent":e.wmode,e.wmode!==null&&(j.match(/msie 8/i)||!yb&&!e.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(e.specialWmodeCase=!0,e.wmode=null),g={name:a,id:a,src:b,width:w,height:w,quality:"high",allowScriptAccess:e.allowScriptAccess,bgcolor:e.bgColor,pluginspage:Kb+"www.macromedia.com/go/getflashplayer",title:f,type:"application/x-shockwave-flash",wmode:e.wmode,hasPriority:"true"},e.debugFlash&&(g.FlashVars="debug=1"),e.wmode||delete g.wmode;if(yb)h=m.createElement("div"),n=['<object id="'+a+'" data="'+b+'" type="'+g.type+'" title="'+g.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+Kb+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" width="'+g.width+'" height="'+g.height+'">',A("movie",b),A("AllowScriptAccess",e.allowScriptAccess),A("quality",g.quality),e.wmode?A("wmode",e.wmode):"",A("bgcolor",e.bgColor),A("hasPriority","true"),e.debugFlash?A("FlashVars",g.FlashVars):"","</object>"].join("");else{h=m.createElement("embed");for(l in g)g.hasOwnProperty(l)&&h.setAttribute(l,g[l])}P(),q=Z(),k=L();if(k){e.oMC=i(e.movieID)||m.createElement("div");if(!e.oMC.id){e.oMC.id=e.movieID,e.oMC.className=e.swfCSS.swfDefault+" "+q,r=null,p=null,e.useFlashBlock||(e.useHighPerformance?r={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",overflow:"hidden"}:(r={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},x&&(r.left=Math.abs(parseInt(r.left,10))+"px"))),zb&&(e.oMC.style.zIndex=1e4);if(!e.debugFlash)for(u in r)r.hasOwnProperty(u)&&(e.oMC.style[u]=r[u]);try{yb||e.oMC.appendChild(h),k.appendChild(e.oMC),yb&&(p=e.oMC.appendChild(m.createElement("div")),p.className=e.swfCSS.swfBox,p.innerHTML=n),t=!0}catch(B){throw Error(X("domError")+" \n"+(B+""))}}else v=e.oMC.className,e.oMC.className=(v?v+" ":e.swfCSS.swfDefault)+(q?" "+q:""),e.oMC.appendChild(h),yb&&(p=e.oMC.appendChild(m.createElement("div")),p.className=e.swfCSS.swfBox,p.innerHTML=n),t=!0}return s=!0,z(),!0},I=function(){return e.html5Only?(M(),!1):e.o?!1:(e.o=e.getMovie(e.id),e.o||(V?(yb?e.oMC.innerHTML=W:e.oMC.appendChild(V),V=null,s=!0):M(e.id,e.url),e.o=e.getMovie(e.id)),e.oninitmovie instanceof Function&&setTimeout(e.oninitmovie,1),!0)},D=function(){setTimeout(E,1e3)},E=function(){var a;if(cb)return!1;cb=!0,ob.remove(k,"load",D);if(Fb&&!Eb)return!1;u||(a=e.getMoviePercent()),setTimeout(function(){a=e.getMoviePercent(),!u&&Gb&&(a===null?e.useFlashBlock||e.flashLoadTimeout===0?e.useFlashBlock&&Y():T(!0):e.flashLoadTimeout!==0&&T(!0))},e.flashLoadTimeout)},G=function(){function a(){ob.remove(k,"focus",G),ob.remove(k,"load",G)}return Eb||!Fb?(a(),!0):(Gb=!0,Eb=!0,Ab&&Fb&&ob.remove(k,"mousemove",G),cb=!1,a(),!0)},vb=function(){var a,b=[];if(e.useHTML5Audio&&e.hasHTML5)for(a in e.audioFormats)e.audioFormats.hasOwnProperty(a)&&b.push(a+": "+e.html5[a]+(!e.html5[a]&&rb&&e.flash[a]?" (using flash)":e.preferFlash&&e.flash[a]&&rb?" (preferring flash)":e.html5[a]?"":" ("+(e.audioFormats[a].required?"required, ":"")+"and no flash support)"))},y=function(a){var b,c;return u?!1:e.html5Only?(u=!0,C(),!0):(b=e.useFlashBlock&&e.flashLoadTimeout&&!e.getMoviePercent(),b||(u=!0,v&&(c={type:!rb&&gb?"NO_FLASH":"INIT_TIMEOUT"})),v||a?(e.useFlashBlock&&e.oMC&&(e.oMC.className=Z()+" "+(e.getMoviePercent()===null?e.swfCSS.swfTimedout:e.swfCSS.swfError)),B({type:"ontimeout",error:c}),N(c),!1):e.waitForWindowLoad&&!w?(ob.add(k,"load",C),!1):(C(),!0))},o=function(){function a(){ob.remove(k,"load",e.beginDelayedInit)}if(u)return!1;if(e.html5Only)return u||(a(),e.enabled=!0,y()),!0;I();try{e.o._externalInterfaceTest(!1),O(!0,e.flashPollingInterval||(e.useHighPerformance?10:50)),e.debugMode||e.o._disableDebug(),e.enabled=!0,e.html5Only||ob.add(k,"unload",n)}catch(b){return N({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),T(!0),y(),!1}return y(),a(),!0},J=function(){return K?!1:(K=!0,P(),!rb&&e.hasHTML5&&(e.useHTML5Audio=!0,e.preferFlash=!1),nb(),e.html5.usingFlash=hb(),gb=e.html5.usingFlash,vb(),!rb&&gb&&(e.flashLoadTimeout=1),m.removeEventListener&&m.removeEventListener("DOMContentLoaded",J,!1),I(),!0)},mb=function(){return m.readyState==="complete"&&(J(),m.detachEvent("onreadystatechange",mb)),!0},sb(),ob.add(k,"focus",G),ob.add(k,"load",G),ob.add(k,"load",D),Ab&&Fb&&ob.add(k,"mousemove",G),m.addEventListener?m.addEventListener("DOMContentLoaded",J,!1):m.attachEvent?m.attachEvent("onreadystatechange",mb):N({type:"NO_DOM2_EVENTS",fatal:!0}),m.readyState==="complete"&&setTimeout(J,100)}var b=null;if(typeof SM2_DEFER=="undefined"||!SM2_DEFER)b=new c;a.SoundManager=c,a.soundManager=b})(window);