function MCTabs(){this.settings=[],this.onChange=tinyMCEPopup.editor.windowManager.createInstance("tinymce.util.Dispatcher")}var mcTabs;MCTabs.prototype.init=function(a){this.settings=a},MCTabs.prototype.getParam=function(a,b){var c=null;return c=typeof this.settings[a]=="undefined"?b:this.settings[a],c=="true"||c=="false"?c=="true":c},MCTabs.prototype.showTab=function(a){a.className="current",a.setAttribute("aria-selected",!0),a.setAttribute("aria-expanded",!0),a.tabIndex=0},MCTabs.prototype.hideTab=function(a){var b=this;a.className="",a.setAttribute("aria-selected",!1),a.setAttribute("aria-expanded",!1),a.tabIndex=-1},MCTabs.prototype.showPanel=function(a){a.className="current",a.setAttribute("aria-hidden",!1)},MCTabs.prototype.hidePanel=function(a){a.className="panel",a.setAttribute("aria-hidden",!0)},MCTabs.prototype.getPanelForTab=function(a){return tinyMCEPopup.dom.getAttrib(a,"aria-controls")},MCTabs.prototype.displayTab=function(a,b,c){var d,e,f,g,h,i,j=this,k=document.getElementById(a);b===undefined&&(b=j.getPanelForTab(k)),d=document.getElementById(b),e=d?d.parentNode:null,f=k?k.parentNode:null,g=j.getParam("selection_class","current");if(k&&f){h=f.childNodes;for(i=0;i<h.length;i++)h[i].nodeName=="LI"&&j.hideTab(h[i]);j.showTab(k)}if(d&&e){h=e.childNodes;for(i=0;i<h.length;i++)h[i].nodeName=="DIV"&&j.hidePanel(h[i]);c||k.focus(),j.showPanel(d)}},MCTabs.prototype.getAnchor=function(){var a,b=document.location.href;return(a=b.lastIndexOf("#"))!=-1?b.substring(a+1):""},mcTabs=new MCTabs,tinyMCEPopup.onInit.add(function(){var a=tinyMCEPopup.getWin().tinymce,b=tinyMCEPopup.dom,c=a.each;c(b.select("div.tabs"),function(d){var e,f,g;b.setAttrib(d,"role","tablist"),f=tinyMCEPopup.dom.select("li",d),g=function(a){mcTabs.displayTab(a,mcTabs.getPanelForTab(a)),mcTabs.onChange.dispatch(a)},c(f,function(a){b.setAttrib(a,"role","tab"),b.bind(a,"click",function(){g(a.id)})}),b.bind(b.getRoot(),"keydown",function(b){b.keyCode===9&&b.ctrlKey&&!b.altKey&&(e.moveFocus(b.shiftKey?-1:1),a.dom.Event.cancel(b))}),c(b.select("a",d),function(a){b.setAttrib(a,"tabindex","-1")}),e=tinyMCEPopup.editor.windowManager.createInstance("tinymce.ui.KeyboardNavigation",{root:d,items:f,onAction:g,actOnFocus:!0,enableLeftRight:!0,enableUpDown:!0},tinyMCEPopup.dom)})});