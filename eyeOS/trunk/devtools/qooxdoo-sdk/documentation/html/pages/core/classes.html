
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Classes &mdash; qooxdoo v1.2 documentation</title>
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.2',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="qooxdoo v1.2 documentation" href="../../index.html" />
    <link rel="up" title="Core Framework" href="../core.html" />
    <link rel="next" title="Interfaces" href="interfaces.html" />
    <link rel="prev" title="Features for Object Orientation" href="oo_feature_summary.html" /> 
  </head>
  <body>

		<div class="header">
			<div class="headcenter">
		    <a href="/"><img id="logo" src="http://resources.qooxdoo.org/images/logo.gif" alt="qooxdoo logo"/></a>
		
		    <h1 style="display: none;">qooxdoo</h1>
		    <h2 class="subline">the new era of web development</h2>
		  </div>
			<div class="navigation">
				<a href="http://qooxdoo.org">Home</a>
				<a href="http://qooxdoo.org/about">About</a>
				<a href="http://news.qooxdoo.org/">News</a>
				<a href="http://qooxdoo.org/demo">Demo</a>
				<a class="current" href="http://qooxdoo.org/documentation">Documentation</a>
				<a href="http://qooxdoo.org/community">Community</a>
				<a href="http://qooxdoo.org/download">Download</a>
				<a href="http://bugzilla.qooxdoo.org/">Bugs</a>
			</div>
			<div class="subheader">&nbsp;</div>
		</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="interfaces.html" title="Interfaces"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="oo_feature_summary.html" title="Features for Object Orientation"
             accesskey="P">previous</a> |</li>
				<li> &raquo; <a href="http://qooxdoo.org">Home</a> &raquo;</li>
        <li><a href="../../index.html">qooxdoo v1.2 documentation</a> &raquo;</li>
          <li><a href="../core.html" accesskey="U">Core Framework</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="classes">
<span id="pages-classes-classes"></span><h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<p>qooxdoo&#8217;s class definition is a concise and compact way to define new classes. Due to its closed form the JavaScript code that handles the actual class definition already &#8220;knows&#8221; all parts of the class at definition time. This allows for many useful checks during development as well as clever optimizations during the build process.</p>
<div class="section" id="declaration">
<span id="pages-classes-declaration"></span><h2>Declaration<a class="headerlink" href="#declaration" title="Permalink to this headline">¶</a></h2>
<p>Here is the most basic definition of a regular, non-static class <tt class="docutils literal"><span class="pre">qx.test.Cat</span></tt>. It has a constructor so that instances can be created. It also needs to extend some existing class, here we take the root class of all qooxdoo classes:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">extend</span><span class="o">:</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">core</span><span class="p">.</span><span class="nb">Object</span><span class="p">,</span>
  <span class="nx">construct</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>As you can see, the <tt class="docutils literal"><span class="pre">define()</span></tt> method takes two arguments, the fully-qualified name of the new class, and a configuration map that contains a varying number of predefined keys and their values.</p>
<p>An instance of this class is created and its constructor is called by the usual statement:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">kitty</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">Cat</span><span class="p">;</span>
</pre></div>
</div>
<div class="section" id="members">
<span id="pages-classes-members"></span><h3>Members<a class="headerlink" href="#members" title="Permalink to this headline">¶</a></h3>
<p>Members of a class come in two flavors:
* Class members (also called &#8220;static&#8221; members) are attached to the class itself, not to individual instances
* Instance members are attached to each individual instance of a class</p>
</div>
<div class="section" id="class-members">
<span id="pages-classes-class-members"></span><h3>Class Members<a class="headerlink" href="#class-members" title="Permalink to this headline">¶</a></h3>
<p>A static member of a class can be one of the following:</p>
<ul class="simple">
<li>Class Variable</li>
<li>Class Method</li>
</ul>
<p>In the <tt class="docutils literal"><span class="pre">Cat</span></tt> class we may attach a class variable <tt class="docutils literal"><span class="pre">LEGS</span></tt> (where uppercase notation is a common coding convention) and a class method <tt class="docutils literal"><span class="pre">makeSound()</span></tt>, both in a <tt class="docutils literal"><span class="pre">statics</span></tt> section of the class declaration:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="cm">/* ... */</span>
  <span class="nx">statics</span> <span class="o">:</span> <span class="p">{</span>
    <span class="nx">LEGS</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="nx">makeSound</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Accessing those class members involves the fully-qualified class name:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">Cat</span><span class="p">.</span><span class="nx">LEGS</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">Cat</span><span class="p">.</span><span class="nx">makeSound</span><span class="p">());</span>
</pre></div>
</div>
</div>
<div class="section" id="instance-members">
<span id="pages-classes-instance-members"></span><h3>Instance Members<a class="headerlink" href="#instance-members" title="Permalink to this headline">¶</a></h3>
<p>An instance member of a class can be one of the following:</p>
<ul class="simple">
<li>Instance Variable</li>
<li>Instance Method</li>
</ul>
<p>They may be defined in the <tt class="docutils literal"><span class="pre">members</span></tt> section of the class declaration:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="p">...</span>
  <span class="nx">members</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">name</span> <span class="o">:</span> <span class="s2">&quot;Kitty&quot;</span><span class="p">,</span>
    <span class="nx">getName</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Accessing those members involves an instance of the class:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">var</span> <span class="nx">kitty</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">Cat</span><span class="p">;</span>
<span class="nx">kitty</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="s2">&quot;Sweetie&quot;</span><span class="p">;</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">kitty</span><span class="p">.</span><span class="nx">getName</span><span class="p">());</span>
</pre></div>
</div>
<div class="section" id="primitive-types-vs-reference-types">
<span id="pages-classes-primitive-types-vs-reference-types"></span><h4>Primitive Types vs. Reference Types<a class="headerlink" href="#primitive-types-vs-reference-types" title="Permalink to this headline">¶</a></h4>
<p>There is a fundamental JavaScript language feature that could lead to problems, if not properly understood. It centers around the different behavior in the assignment of JavaScript&#8217;s two data types (<em>primitive types</em> vs. <em>reference types</em>).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please make sure you understand the following explanation to avoid possible future coding errors.</p>
</div>
<p>Primitive types include <tt class="docutils literal"><span class="pre">Boolean</span></tt>, <tt class="docutils literal"><span class="pre">Number</span></tt>, <tt class="docutils literal"><span class="pre">String</span></tt>, <tt class="docutils literal"><span class="pre">null</span></tt> and the rather unusual <tt class="docutils literal"><span class="pre">undefined</span></tt>. If such a primitive type is assigned to an instance variable in the class declaration, it behaves as if each instance had a copy of that value. They are never shared among instances.</p>
<p>Reference types include all other types, e.g. <tt class="docutils literal"><span class="pre">Array</span></tt>, <tt class="docutils literal"><span class="pre">Function</span></tt>, <tt class="docutils literal"><span class="pre">RegExp</span></tt> and the generic <tt class="docutils literal"><span class="pre">Object</span></tt>. As their name suggests, those reference types merely point to the corresponding data value, which is represented by a more complex data structure than the primitive types. If such a reference type is assigned to an instance variable in the class declaration, it behaves as if each instance just pointed to the complex data structure. All instances share the same value, unless the corresponding instance variable is assigned a different value.</p>
<p><strong>Example</strong>: If an instance variable was assigned an array in the class declaration, any instance of the class could (knowingly or unknowingly) manipulate this array in such a way that each instance would be affected by the changes. Such a manipulation could be pushing a new item into the array or changing the value of a certain array item. All instances would share the array.</p>
<p>You have to be careful when using complex data types in the class declaration, because they are shared by default:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">members</span><span class="o">:</span>
<span class="p">{</span>
  <span class="nx">foo</span><span class="o">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>   <span class="c1">// all instances would start to share this data structure</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you do <em>not</em> want that instances share the same data, you should defer the actual initialization into the constructor:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">construct</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">];</span>   <span class="c1">// each instance would get assigned its own data structure</span>
<span class="p">},</span>
<span class="nx">members</span><span class="o">:</span>
<span class="p">{</span>
  <span class="nx">foo</span><span class="o">:</span> <span class="kc">null</span>   <span class="c1">// to be initialized in the constructor</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="access">
<span id="pages-classes-access"></span><h3>Access<a class="headerlink" href="#access" title="Permalink to this headline">¶</a></h3>
<p>In many object-oriented classes a concept exists that is referred to as &#8220;access&#8221; or &#8220;visibility&#8221; of members (well, or even classes, etc.). Based on the well-known access modifiers of Java, the following three types exist for qooxdoo members:</p>
<ul class="simple">
<li><em>public</em>: To be accessed from any class/instance</li>
<li><em>protected</em>: To be accessed only from derived classes or their instances</li>
<li><em>private</em>: To be accessed only from the defining class/instance</li>
</ul>
<p>Unfortunately, JavaScript is very limited in <em>enforcing</em> those protection mechanisms. Therefore, the following coding convention is to be used to declare the access type of members:</p>
<ul class="simple">
<li><em>public</em>: members may <em>not</em> start with an underscore</li>
<li><em>protected</em>: members start with a single underscore <tt class="docutils literal"><span class="pre">_</span></tt></li>
<li><em>private</em>: members start with a double underscore <tt class="docutils literal"><span class="pre">__</span></tt></li>
</ul>
<p>There are some possibilities to enforce or at least check the various degrees of accessibility:
* automatic renaming of private members in the build version could trigger errors when testing the final app
* checking  instance of <tt class="docutils literal"><span class="pre">this</span></tt> in protected methods
* ...</p>
</div>
<div class="section" id="special-types-of-classes">
<span id="pages-classes-special-types-of-classes"></span><h3>Special Types of Classes<a class="headerlink" href="#special-types-of-classes" title="Permalink to this headline">¶</a></h3>
<p>Besides a &#8220;regular&#8221; class there is built-in support for the following special types:</p>
<div class="section" id="static-classes">
<span id="pages-classes-static-classes"></span><h4>Static Classes<a class="headerlink" href="#static-classes" title="Permalink to this headline">¶</a></h4>
<p>A static class is not instantiated and only contains static members. Setting its type to <tt class="docutils literal"><span class="pre">static</span></tt> makes sure only such static members, no constructor and so on are given in the class definition. Otherwise error messages are presented to the developer:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;static&quot;</span>
  <span class="p">...</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="abstract-classes">
<span id="pages-classes-abstract-classes"></span><h4>Abstract Classes<a class="headerlink" href="#abstract-classes" title="Permalink to this headline">¶</a></h4>
<p>An abstract class may not be instantiated. It merely serves as a superclass that needs to be derived from. Concrete classes (or concrete members of such derived classes) contain the actual implementation of the abstract members. If an abstract class is to be instantiated, an error message is presented to the developer.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;abstract&quot;</span>
  <span class="p">...</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="singletons">
<span id="pages-classes-singletons"></span><h4>Singletons<a class="headerlink" href="#singletons" title="Permalink to this headline">¶</a></h4>
<p>The singleton design pattern makes sure, only a single instance of a class may be created. Every time an instance is requested, either the already created instance is returned or, if no instance is available yet, a new one is created and returned. Requesting the instance of such a singleton class is done by using the <tt class="docutils literal"><span class="pre">getInstance()</span></tt> method.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">type</span> <span class="o">:</span> <span class="s2">&quot;singleton&quot;</span>
  <span class="p">...</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="inheritance">
<span id="pages-classes-inheritance"></span><h2>Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this headline">¶</a></h2>
<div class="section" id="single-inheritance">
<span id="pages-classes-single-inheritance"></span><h3>Single Inheritance<a class="headerlink" href="#single-inheritance" title="Permalink to this headline">¶</a></h3>
<p>JavaScript supports the concept of single inheritance. It does not support (true) multiple inheritance like C++. Most people agree on the fact that such a concept tends to be very complex and error-prone. There are other ways to shoot you in the foot. qooxdoo only allows for single inheritance as well:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">extend</span><span class="o">:</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">Animal</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="multiple-inheritance">
<span id="pages-classes-multiple-inheritance"></span><h3>Multiple Inheritance<a class="headerlink" href="#multiple-inheritance" title="Permalink to this headline">¶</a></h3>
<p>Not supported. There are more practical and less error-prone solutions that allow for typical features of multiple inheritance: Interfaces and Mixins (see below).</p>
</div>
<div class="section" id="polymorphism-overriding">
<span id="pages-classes-polymorphism-overriding"></span><h3>Polymorphism (Overriding)<a class="headerlink" href="#polymorphism-overriding" title="Permalink to this headline">¶</a></h3>
<p>qooxdoo does, of course, allow for polymorphism, that is most easily seen in the ability to override methods in derived classes.</p>
</div>
<div class="section" id="calling-the-superclass-constructor">
<span id="pages-classes-calling-the-superclass-constructor"></span><h3>Calling the Superclass Constructor<a class="headerlink" href="#calling-the-superclass-constructor" title="Permalink to this headline">¶</a></h3>
<p>It is hard to come up with an appealing syntax and efficient implementation for calling the superclass constructor from the constructor of a derived class. You simply cannot top Java&#8217;s <tt class="docutils literal"><span class="pre">super()</span></tt> here. At least there is some generic way that does not involve to use the superclass name explicitly:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">extend</span><span class="o">:</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">Animal</span><span class="p">,</span>
  <span class="nx">construct</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">base</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="nx">x</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Unfortunately, to mimic a <tt class="docutils literal"><span class="pre">super()</span></tt> call the special variable <tt class="docutils literal"><span class="pre">arguments</span></tt> is needed, which in JavaScript allows a context-independent access to the actual function. Don&#8217;t get confused by its name, you would list your own arguments just afterwards (like the <tt class="docutils literal"><span class="pre">x</span></tt> in the example above).</p>
<p><tt class="docutils literal"><span class="pre">this.base(arguments,</span> <span class="pre">x)</span></tt> is internally mapped to <tt class="docutils literal"><span class="pre">arguments.callee.base.call(this,</span> <span class="pre">x)</span></tt> (The <em>.base</em> property is maintained for every method through qooxdoo&#8217;s class system). The latter form can be handled by JavaScript natively, which means it is quite efficient. As an optimization during the build process such a rewrite is done automatically for your deployable application.</p>
</div>
<div class="section" id="calling-an-overridden-method">
<span id="pages-classes-calling-an-overridden-method"></span><h3>Calling an Overridden Method<a class="headerlink" href="#calling-an-overridden-method" title="Permalink to this headline">¶</a></h3>
<p>Calling an overridden superclass method from within the overriding method (i.e. both methods have the same name) is similar to calling the superclass constructor:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">extend</span><span class="o">:</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">Animal</span><span class="p">,</span>
  <span class="nx">members</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">makeSound</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">base</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="calling-the-superclass-method-or-constructor-with-all-parameters">
<span id="pages-classes-calling-the-superclass-method-or-constructor-with-all-parameters"></span><h3>Calling the Superclass Method or Constructor with all parameters<a class="headerlink" href="#calling-the-superclass-method-or-constructor-with-all-parameters" title="Permalink to this headline">¶</a></h3>
<p>This variant allows to pass all the parameters (unmodified):</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Animal&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">members</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">makeSound</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">howManyTimes</span><span class="p">)</span> <span class="p">{</span>
       <span class="p">....</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">extend</span><span class="o">:</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">Animal</span><span class="p">,</span>
  <span class="nx">members</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">makeSound</span> <span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="s2">&quot;I&#39;m a cat&quot;</span><span class="p">);</span>
      <span class="cm">/* howManyTimes or any other parameter are passed.  We don&#39;t need to know how many parameters are used. */</span>
      <span class="nx">arguments</span><span class="p">.</span><span class="nx">callee</span><span class="p">.</span><span class="nx">base</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="calling-another-static-method">
<span id="pages-classes-calling-another-static-method"></span><h3>Calling another Static Method<a class="headerlink" href="#calling-another-static-method" title="Permalink to this headline">¶</a></h3>
<p>Here is an example for calling a static member without using a fully-qualified class name (compare to <tt class="docutils literal"><span class="pre">this.base(arguments)</span></tt> above):</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">extend</span><span class="o">:</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">Animal</span><span class="p">,</span>
  <span class="nx">statics</span> <span class="o">:</span> <span class="p">{</span>
    <span class="nx">someStaticMethod</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
      <span class="p">...</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nx">members</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">makeSound</span> <span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">self</span><span class="p">(</span><span class="nx">arguments</span><span class="p">).</span><span class="nx">someStaticMethod</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
<p>The syntax for accessing static variables simply is <tt class="docutils literal"><span class="pre">this.self(arguments).someStaticVar</span></tt>. Please note, for <tt class="docutils literal"><span class="pre">this.self</span></tt> to be available, the class must be a derived class of <tt class="docutils literal"><span class="pre">qx.core.Object</span></tt>, which is usually the case for regular, non-static classes.</p>
<p>In purely static classes for calling a static method from another static method, you can directly use the <tt class="docutils literal"><span class="pre">this</span></tt> keyword, e.g. <tt class="docutils literal"><span class="pre">this.someStaticMethod(x)</span></tt>.</p>
</div>
</div>
<div class="section" id="interfaces">
<span id="pages-classes-interfaces"></span><h2>Interfaces<a class="headerlink" href="#interfaces" title="Permalink to this headline">¶</a></h2>
<p>The class system supports <a class="reference internal" href="interfaces.html"><em>Interfaces</em></a>. The implementation is based on the feature set of Java interfaces. Most relevant features of Java-like interfaces are supported. A class can define which interface or multiple interfaces it implements by using the <tt class="docutils literal"><span class="pre">implement</span></tt> key:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">implement</span> <span class="o">:</span> <span class="p">[</span><span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">IPet</span><span class="p">,</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">IFoo</span><span class="p">]</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="mixins">
<span id="pages-classes-mixins"></span><h2>Mixins<a class="headerlink" href="#mixins" title="Permalink to this headline">¶</a></h2>
<p>Unlike interfaces, <a class="reference internal" href="mixins.html"><em>Mixins</em></a> do contain concrete implementations of methods. They borrow some ideas from Ruby and similar scripting languages.</p>
<p>Features:
* Add mixins to the definition of a class: All members of the mixin are added to the class definition.
* Add a mixin to a class after the class is defined. Enhances the functionality but is not allowed to overwrite existing members.
* Patch existing classes. Change the implementation of existing methods. Should normally be avoided but, as some projects may need to patch qooxdoo, we better define a clean way to do so.</p>
<p>The concrete implementations of mixins are used in a class through the key <tt class="docutils literal"><span class="pre">include</span></tt>:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="nx">qx</span><span class="p">.</span><span class="nx">Class</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="s2">&quot;qx.test.Cat&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">include</span> <span class="o">:</span> <span class="p">[</span><span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">MPet</span><span class="p">,</span> <span class="nx">qx</span><span class="p">.</span><span class="nx">test</span><span class="p">.</span><span class="nx">MSleep</span><span class="p">]</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="related-topics">
<span id="pages-classes-related-topics"></span><h2>Related Topics<a class="headerlink" href="#related-topics" title="Permalink to this headline">¶</a></h2>
<div class="section" id="feature-summary">
<span id="pages-classes-feature-summary"></span><h3>Feature summary<a class="headerlink" href="#feature-summary" title="Permalink to this headline">¶</a></h3>
<p>Some of the most prominent features include:</p>
<ul class="simple">
<li>Closed form of class declaration</li>
<li>Interfaces (Java-like)</li>
<li>Mixins (Ruby-like)</li>
<li>Easy calling of super classes (constructor or methods)</li>
<li>Better concepts for <tt class="docutils literal"><span class="pre">private</span></tt>, <tt class="docutils literal"><span class="pre">protected</span></tt> and <tt class="docutils literal"><span class="pre">public</span></tt> members</li>
<li>Powerful dynamic <a class="reference internal" href="understanding_properties.html"><em>properties</em></a></li>
<li>Migration support for existing applications</li>
<li>Browser specific builds (Gecko, Mshtml, Opera, Webkit)</li>
<li>Simplified settings</li>
<li>More runtime checks for the application development phase</li>
</ul>
</div>
<div class="section" id="browser-optimized-builds">
<span id="pages-classes-browser-optimized-builds"></span><h3>Browser optimized builds<a class="headerlink" href="#browser-optimized-builds" title="Permalink to this headline">¶</a></h3>
<p>Methods can be tagged to be specific for just one browser. The class system and the generator are responsible for selecting the correct version of the method for the current browser. The generator may create optimized builds and strip out all methods, which are not needed for a given browser.</p>
<p>Features:
* Runtime selection of the correct method depending on the current browser
* Optimized builds</p>
<blockquote>
<ul class="simple">
<li>Loader script which automatically loads the correct version</li>
<li>Maybe toggle other optimizations for specific browsers as well (for example, do string optimizations only in IE)</li>
</ul>
</blockquote>
<p>See <a class="reference internal" href="../development/variants.html"><em>Working with Variants</em></a> for more details.</p>
</div>
<div class="section" id="more-runtime-checks">
<span id="pages-classes-more-runtime-checks"></span><h3>More runtime checks<a class="headerlink" href="#more-runtime-checks" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>More runtime checks in the source version</li>
<li>Strip the checks from the build version</li>
<li>Remove debugging code from the build version</li>
</ul>
</div>
<div class="section" id="class-declaration-quick-ref">
<span id="pages-classes-class-declaration-quick-ref"></span><h3>Class Declaration Quick Ref<a class="headerlink" href="#class-declaration-quick-ref" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="class_quickref.html"><em>Class Declaration Quick Ref</em></a> - a quick syntax overview</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Classes</a><ul>
<li><a class="reference internal" href="#declaration">Declaration</a><ul>
<li><a class="reference internal" href="#members">Members</a></li>
<li><a class="reference internal" href="#class-members">Class Members</a></li>
<li><a class="reference internal" href="#instance-members">Instance Members</a><ul>
<li><a class="reference internal" href="#primitive-types-vs-reference-types">Primitive Types vs. Reference Types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#access">Access</a></li>
<li><a class="reference internal" href="#special-types-of-classes">Special Types of Classes</a><ul>
<li><a class="reference internal" href="#static-classes">Static Classes</a></li>
<li><a class="reference internal" href="#abstract-classes">Abstract Classes</a></li>
<li><a class="reference internal" href="#singletons">Singletons</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#inheritance">Inheritance</a><ul>
<li><a class="reference internal" href="#single-inheritance">Single Inheritance</a></li>
<li><a class="reference internal" href="#multiple-inheritance">Multiple Inheritance</a></li>
<li><a class="reference internal" href="#polymorphism-overriding">Polymorphism (Overriding)</a></li>
<li><a class="reference internal" href="#calling-the-superclass-constructor">Calling the Superclass Constructor</a></li>
<li><a class="reference internal" href="#calling-an-overridden-method">Calling an Overridden Method</a></li>
<li><a class="reference internal" href="#calling-the-superclass-method-or-constructor-with-all-parameters">Calling the Superclass Method or Constructor with all parameters</a></li>
<li><a class="reference internal" href="#calling-another-static-method">Calling another Static Method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#interfaces">Interfaces</a></li>
<li><a class="reference internal" href="#mixins">Mixins</a></li>
<li><a class="reference internal" href="#related-topics">Related Topics</a><ul>
<li><a class="reference internal" href="#feature-summary">Feature summary</a></li>
<li><a class="reference internal" href="#browser-optimized-builds">Browser optimized builds</a></li>
<li><a class="reference internal" href="#more-runtime-checks">More runtime checks</a></li>
<li><a class="reference internal" href="#class-declaration-quick-ref">Class Declaration Quick Ref</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="oo_feature_summary.html"
                                  title="previous chapter">Features for Object Orientation</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="interfaces.html"
                                  title="next chapter">Interfaces</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/pages/core/classes.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2010, qooxdoo developers.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0b2.
    </div>
  </body>
</html>